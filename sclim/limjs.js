/*
 LIM 5.3.2
 Libro Interactivo Multimeda
 Fran Macias , http://educalim.org
 CC 3.0  BY SA
*/
function clasificar(b){var L={textos:"",caixas:"",txcaixas:"",modo:""};this.crear=function(){function e(e,t,r){g++,e.style.zIndex=g;for(var i,n=parseInt(e.id),a=e.id.substring(e.id.length-1),o=0;o<l;o++){if(i=o+1,LIM.ratosobre(e,m[o],t,r,!1)){d[n]=a==i?1:0;break}d[n]=0}}L=LIM.prc(L,b),b.properties.minheight="430";var t=b.properties.trnsimf||[],r=b.properties.imfondo||[],i=b.properties.textos,n=b.properties.caixas,a=b.properties.modo||"0",o=-1<b.properties.txcaixas.indexOf(",")?b.properties.txcaixas.split(","):b.properties.txcaixas,s=i.length,l=o.length,c=LIM.crearbase(b),p=LIM.paxina(),d=Array(s),m=Array(l),u=0,f="dst",h="";f=350;var v=h=0,g=1100;null==b.donde&&LIM.comunes(c,b.txcabe,b.txpe,b.properties.ison,b.properties.autoson,b.properties.txliga,b.properties.paxliga),LIM.addEventSimple(LIM.esactividad(c,!0),"click",function(){-1<d.toString().indexOf(0)?LIM.poneravaliacion(c,b.properties.mensamal,!1,b.properties.ffinal,b.num):LIM.poneravaliacion(c,b.properties.mensaben,!0,b.properties.ffinal,b.num)}),2<l&&(f=180);var x="clclas-ca clclas-borde";for("1"==a&&(x="clclas-ca"),u=0;u<l;u++)(a=LIM.creardom("div",c,u+"caixa"+p,x,280+260*h,v)).style.height=f+"px",a.innerHTML=o[u],r[u]&&(a.style.backgroundImage="url("+r[u]+")",t[u]&&LIM.transparencia(a,t[u])),m[u]=a,1==u&&(h=-1,v=200),h++;for(12<s&&(f=50),u=0,f="etq",h="",t=LIM.desordena(s),r=0,dHeight=51*s+20,c.style.height=dHeight+"px",u=0;u<s;u++)h=(r=t[u])+f+p+n[r],o=LIM.creardom("div",c,h,"clclas-etq",10,6+51*u),50<i[r].length&&(o.style.fontSize="12px"),o.innerHTML=i[r],LIM.drag(o,c,e),d[r]=0}}function clasificarimx(y){var M={textos:[],caixas:[],txcaixas:[],imaxes:[],imaxeAltText:[],profondo:[],imfondo:[],mensaben:"",mensamal:""};M=LIM.qhtml(y.donde,M),this.crear=function(){function e(e,t,r){x++,e.style.zIndex=x,t=parseInt(e.id),r=e.id.substring(e.id.length-1);for(var i,n=0;n<m;n++){if(i=n+1,LIM.estasobre(e,v[n],!1)){h[t]=r==i?1:0;break}h[t]=0}}(y=LIM.prc(M,y)).properties.minheight="430";var t=y.properties.textos||[],r=y.properties.caixas||[],i=y.properties.txcaixas||[],n=y.properties.trnsimf||[],a=y.properties.imfondo||[],o=y.properties.imaxes,s=y.properties.imaxeAltText||[],l=y.properties.cfondo||"",c=y.properties.cadro||"",p=y.properties.modo||"0",d=o.length,m=i.length,u=LIM.crearbase(y),f=LIM.paxina(),h=Array(d),v=Array(m),g=380,x=1100;(g=null)==y.donde&&LIM.comunes(u,y.txcabe,y.txpe,y.properties.ison,y.properties.autoson,y.properties.txliga,y.properties.paxliga),LIM.addEventSimple(LIM.esactividad(u,!0),"click",function(){-1<h.toString().indexOf(0)?LIM.poneravaliacion(u,y.properties.mensamal,!1,y.properties.ffinal,y.num):LIM.poneravaliacion(u,y.properties.mensaben,!0,y.properties.ffinal,y.num)});var b="clclaimx-cx clclaimx-borde";for("1"==p&&(b="clclaimx-cx"),g=Math.round(850/m)-2,p=0;p<m;p++){var L=LIM.creardom("div",u,p+"caixa"+f,b,10+(g+10)*p,170);L.style.width=g+"px",L.innerHTML=i[p],a[p]&&(L.style.backgroundImage="url("+a[p]+")",n[p]&&LIM.transparencia(L,n[p])),v[p]=L,1==p&&-1,0}for(12<d&&(g=50),p=0,a="",i=LIM.desordena(d),p=n=0;p<d;p++)a=(n=i[p])+"metq"+f+r[n],a=LIM.creardom("div",u,a,"clclaimx-cad",10+126*p,4),""!=l&&(a.style.backgroundColor="#"+l),"1"==c&&(a.style.borderWidth="1px"),(g=LIM.crearimaxe({pai:a,name:p+"imx"+f,cssclass:"",posx:1,posy:1,alttext:s[n]})).style.visibility="hidden",LIM.cargaimaxe(g,o[n],148,138,"",!0,!0),LIM.drag(a,u,e),h[n]=0,""!=y.properties.textos&&""!=t[n]&&((a=LIM.creardom("div",a,p+"txt"+f,"bandat",0,104)).style.width="150px",a.style.height="34px",a.innerHTML=t[n])}}function completar(f){var h={};this.crear=function(){h=LIM.prc(h,f),f.properties.minheight="380";for(var n=f.properties.modo||"1",e=[],t=[],r=[],a=f.properties.textos.length,i=0;i<a;i++)arretq=f.properties.textos[i].split("||"),e[i]=arretq[0],t[i]=arretq[1],r[i]=arretq[2];var o,s=LIM.crearbase(f),l=LIM.paxina(),c=Array(a),p=Array(a);for(i=0,null==f.donde&&LIM.comunes(s,f.txcabe,f.txpe,f.properties.ison,f.properties.autoson,f.properties.txliga,f.properties.paxliga),LIM.addEventSimple(LIM.esactividad(s,!0),"click",function(){for(var e,t,r=!0,i=0;i<a;i++)e=c[i],"1"==n?(t=e.value,valtx=p[i]):(t=LIM.ttrim(e.value.toLowerCase()),valtx=p[i].toLowerCase()),valtx==t?e.style.backgroundColor="#F2F5A9":r=!(e.style.backgroundColor="#E6E6E6");r?LIM.poneravaliacion(s,f.properties.mensaben,!0,f.properties.ffinal,f.num):LIM.poneravaliacion(s,f.properties.mensamal,!1,f.properties.ffinal,f.num)}),i=o=i=0;i<a;i++)t[i].length>o&&(o=t[i].length);if(o*=14,"3"==n){var d=t.slice();LIM.revolve(d)}var m=LIM.creardom("div",s,"","clcomp-cadro");for(i=0;i<a;i++){var u=LIM.creardom("div",m,"","clcomp-base");e[i]&&((o=LIM.creardom("span",u,"","clcomp-txt")).innerHTML=e[i]),""!=t[i]&&(o="3"==n?LIM.crearselect(u,i+"dstum"+l,"clcomp-in",-5,0,d):LIM.crearinput({pai:u,name:i+"dstum"+l,cssclass:"clcomp-in",pholder:h.pholder}),p[i]=t[i],c[i]=o),""!=r[i]&&null!=r[i]&&((o=LIM.creardom("span",u,"","clcomp-txt")).innerHTML=r[i])}"2"==n&&((u=LIM.creardom("div",s,"","clcomp-axu")).innerHTML=t.toString().split(",").join(" | "))}}function cuadros(g){var x={};x=LIM.qhtml(g.donde,x),this.crear=function(){function e(e,t,r){for(var i=null,n=[],a=0,o=0;o<t.length;o++)for(var s=0;s<t[o].length;s++)i=document.createElement("DIV"),e.appendChild(i),i.style.backgroundColor="transparent",n[a]=i,0<t[o][s]&&r?(i.style.backgroundColor=l[t[o][s]-1],i.className="clsime-cadro clsime-cor"):i.className="clsime-cadro",r||(i.onclick=function(){"transparent"!=this.style.backgroundColor?(this.style.backgroundColor="transparent",this.className="clsime-cadro"):(this.style.backgroundColor=c,this.className="clsime-cadro clsime-cor")}),a++;return n}function t(e){e=e.split("");for(var t=0;t<e.length;t++)0!=e[t]?e[t]=0:e[t]=1;return e.join("")}g.properties.minheight="430",Element.prototype.hasClassName=function(e){return new RegExp("(?:^|\\s+)"+e+"(?:\\s+|$)").test(this.className)},Element.prototype.addClassName=function(e){this.hasClassName(e)||(this.className=[this.className,e].join(" "))},Element.prototype.removeClassName=function(e){this.hasClassName(e)&&(this.className=this.className.replace(new RegExp("(?:^|\\s+)"+e+"(?:\\s+|$)","g")," "))},Element.prototype.toggleClassName=function(e){this[this.hasClassName(e)?"removeClassName":"addClassName"](e)};var l="#ff0000 #00ff00 #0000ff #ff8000 #ffff00 #C8A2C8 #ffffff #000000".split(" "),c=l[0],r=null;x=LIM.prc(x,g);var i=g.properties.valor||"0",n=g.properties.forma||"0",a=g.properties.cadros||[];if("0"==(g.properties.modo||"0")){var o=1;"1"==i&&(o=10);for(var s=i="",p=s=0;p<7;p++){i="";for(var d=0;d<8;d++)7<(s=Math.floor(Math.random()*(o-0+1)))&&(s=0),i+=s=s.toString();a[p]=i}}var m=LIM.crearbase(g);LIM.paxina(),p="",LIM.addEventSimple(LIM.esactividad(m,!0),"click",function(){for(var e,t=!0,r="",i=0;i<h.length;i++)e=(e=(e=v[i].style.backgroundColor).match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===e.length?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):"",r+=e=NaN==Number(e)?0:l.indexOf(e)+1;for(r=r.match(/.{1,8}/g),i=0;i<u;i++)r[i]!=f[i]&&(t=!1);t?LIM.poneravaliacion(m,g.properties.mensaben,!0,g.properties.ffinal,g.num):LIM.poneravaliacion(m,g.properties.mensamal,!1,g.properties.ffinal,g.num)});var u=a.length,f=[];if(0==n)for(p=0;p<u;p++)f.push(a[p]);else if("1"==n)for(p=0;p<u;p++)f[p]=t(a[p]);else if("2"==n)for(p=0;p<u;p++)f[p]=a[p].split("").reverse().join("");else if("3"==n)for(p=0;p<u;p++)f[p]="0"+a[p].substr(0,7);(n=document.createElement("DIV")).className="clsime-base",m.appendChild(n);var h=e(n,a,!0);(n=document.createElement("DIV")).className="clsime-base",m.appendChild(n);var v=e(n,a);for(a=null,(n=document.createElement("DIV")).className="clsime-colores",m.appendChild(n),o=0;o<l.length;o++)(a=document.createElement("DIV")).className="clsime-color",a.style.backgroundColor=l[o],n.appendChild(a),a.onclick=function(){c=this.style.backgroundColor,this.addClassName("clsime-sel"),r.removeClassName("clsime-sel"),r=this},0==o&&(r=a).addClassName("clsime-sel");(a=document.createElement("DIV")).className="clsime-del",a.style.backgroundColor="#ffffff",n.appendChild(a),a.onclick=function(){for(var e=0;e<v.length;e++)v[e].style.backgroundColor="transparent"},a.innerHTML="X"}}function dictado(m){var u={};u=LIM.qhtml(m.donde,u),this.crear=function(){(m=LIM.prc(u,m)).properties.minheight="430";var e=m.properties.texto,t=m.properties.son||"",n=m.properties.modo||"0",r=m.properties.forma||"0",a=e.replace(/ +(?= )/g,""),o=a.split(/<br>| /),s=LIM.crearbase(m),i=LIM.creardom("div",s,"","cldic-base");if(LIM.paxina(),LIM.addEventSimple(LIM.esactividad(s,!0),"click",function(){var e=c.value.replace(/(?:\r\n|\r|\n)/g,"<br>").replace(/ +(?= )/g,""),t=e.split(/<br>| /),r="";if("1"==n)for(var i=0;i<t.length;i++)r=t[i]!=o[i]?r+"<span>"+t[i]+"</span> ":r+(t[i]+" ");a==e?LIM.poneravaliacion(s,m.properties.mensaben,!0,m.properties.ffinal,m.num):(LIM.poneravaliacion(s,m.properties.mensamal,!1,m.properties.ffinal,m.num),"1"==n&&(d.innerHTML=r,p.style.display="block"))}),"1"==r&&(LIM.creardom("div",i,"","cldic-or").innerHTML=e),""!=t){e=LIM.creardom("div",i,"","cldic-bts");var l=LIM.creardom("audio",e,"","cldic-au");l.controls=!0,l.src=t,(t=document.createElement("button")).className="cldic-bot",t.title=LIM.td("Pausa"),e.appendChild(t),t.innerHTML="-3",LIM.addEventSimple(t,"click",function(){l.pause(),l.currentTime-=3,l.pause()})}var c=document.createElement("TEXTAREA");c.className="cldic-txt",i.appendChild(c);var p=LIM.creardom("div",i,"","cldic-dvc");i=LIM.creardom("button",p,"","cldic-btc");var d=LIM.creardom("div",p,"","cldic-cor");i.innerHTML="x",i.setAttribute("aria-label",LIM.td("Cerrar")),i.setAttribute("title",LIM.td("Cerrar")),LIM.addEventSimple(i,"click",function(){this.parentNode.style.display="none"})}}function esquema(n){var a={texto:""};a=LIM.qhtml(n.donde,a),this.crear=function(){function u(e,t){function r(e,t){e.Nodes||(e.Nodes=[]);var r=e.Nodes.length;e.Nodes[r]={},t.Action||(t.Action=""),e.Nodes[r].Action=t.Action,e.Nodes[r].Content=t.texto,e.Nodes[r].Pai=t.pai}var i=JSON.parse(e),n=i.esquema[0].texto,a="";0<n.indexOf("]")&&(a=n.substring(n.lastIndexOf("[")+1,n.lastIndexOf("]")),n=n.split("["+stacti+"]").join("")),n={Content:n,Action:a,Nodes:[]},a=[-1,-1,-1,-1,-1,-1,-1,-1];for(var o=1;o<i.esquema.length;o++)switch(i.esquema[o].nivel){case"1":r(n,i.esquema[o]),a[1]++,a[2]=-1,a[3]=-1;break;case"2":r(n.Nodes[a[1]],i.esquema[o]),a[2]++,a[3]=-1;break;case"3":r(n.Nodes[a[1]].Nodes[a[2]],i.esquema[o]),a[3]++;break;case"4":r(n.Nodes[a[1]].Nodes[a[2]].Nodes[a[3]],i.esquema[o]),a[4]++;break;case"5":r(n.Nodes[a[1]].Nodes[a[2]].Nodes[a[3]].Nodes[a[4]],i.esquema[o]),a[5]++;break;case"6":r(n.Nodes[a[1]].Nodes[a[2]].Nodes[a[3]].Nodes[a[4]].Nodes[a[5]],i.esquema[o]),a[6]++}!function(e){(function e(t,r,i,n,a){null==r&&(r=0);null==i&&(i=null);null==n&&(n=null);null==a&&(a=[]);t.Level=r;t.ParentNode=i;t.LeftNode=n;if(!t.Collapsed&&t.Nodes&&0<t.Nodes.length)for(i=0;i<t.Nodes.length;i++)n=null,0==i&&null!=a[r]&&(n=a[r]),0<i&&(n=t.Nodes[i-1]),i==t.Nodes.length-1&&(a[r]=t.Nodes[i]),e(t.Nodes[i],r+1,t,n,a)})(e.RootNode),"Vertical"==e.Layout?function e(t,r){var i=r.height?r.height:100,n=r.width?r.width:100,a=5;if(!t.Collapsed&&t.Nodes&&0<t.Nodes.length)for(var o=0;o<t.Nodes.length;o++)e(t.Nodes[o],r);!t.Collapsed&&t.Nodes&&0<t.Nodes.length?(a=t.Nodes[0].Top+(t.Nodes[t.Nodes.length-1].Top+t.Nodes[t.Nodes.length-1].Height-t.Nodes[0].Top)/2-i/2,t.LeftNode&&t.LeftNode.Top+t.LeftNode.Height+20>a&&(o=t.LeftNode.Top+t.LeftNode.Height+20,d(t.Nodes,o-a),a=o)):t.LeftNode&&(a=t.LeftNode.Top+t.LeftNode.Height+20);t.Top=a;t.Left=5+30*t.Level+n*t.Level;t.Height=i;t.Width=n;n=t.Left+n;t.ChildrenConnectorPoint={X:n,Y:a+i/2,Layout:"Vertical"};n=t.Left;t.ParentConnectorPoint={X:n,Y:a+i/2,Layout:"Vertical"}}(e.RootNode,e):function e(t,r){var i=r.height?r.height:30,n=r.width?r.width:100,a=5;if(!t.Collapsed&&t.Nodes&&0<t.Nodes.length)for(var o=0;o<t.Nodes.length;o++)e(t.Nodes[o],r);!t.Collapsed&&t.Nodes&&0<t.Nodes.length?(a=t.Nodes[0].Left+(t.Nodes[t.Nodes.length-1].Left+t.Nodes[t.Nodes.length-1].Width-t.Nodes[0].Left)/2-n/2,t.LeftNode&&t.LeftNode.Left+t.LeftNode.Width+30>a&&(o=t.LeftNode.Left+t.LeftNode.Width+30,p(t.Nodes,o-a),a=o)):t.LeftNode&&(a=t.LeftNode.Left+t.LeftNode.Width+30);t.Left=a;t.Top=5+50*t.Level+i*t.Level;t.Height=i;t.Width=n;i=t.Top+i;t.ChildrenConnectorPoint={X:a+n/2,Y:i,Layout:"Horizontal"};i=t.Top;t.ParentConnectorPoint={X:a+n/2,Y:i,Layout:"Horizontal"}}(e.RootNode,e),e.Container.innerHTML="",function e(t,r,i){if(""!=t.Action&&"o"!=t.Action){var n=document.createElement("a");n.href='javascript:LIM.salto("'+t.Action+'")',n.title="link: "+t.Action}else n=document.createElement("div");n.style.top=t.Top+"px";n.style.left=t.Left+"px";n.style.width=t.Width+"px";n.style.height=t.Height+"px";if(t.Collapsed)n.className=" clesq-nodeco";else if("o"==t.Action)n.className="clesq-node clesq-oc",n.innerHTML="?",n.cnt=t.Content,n.Pai=t.Pai,f.push(t.Content),h.push(t.Pai);else if(n.className="clesq-node",""!=t.Action){var a=document.createElement("div");a.className="clesq-lnk",n.appendChild(a)}t.Class&&(n.className=t.Class);t.Content&&(a=document.createElement("div"),a.className="clesq-nodec",n.appendChild(a),"o"!=t.Action&&(a.innerHTML+=t.Content));t.ToolTip&&n.setAttribute("title",t.ToolTip);n.Node=t;i.OnNodeClick&&(n.onclick=i.OnNodeClick);i.OnNodeDoubleClick&&(n.ondblclick=i.OnNodeDoubleClick);r.appendChild(n);n.style.zIndex="200";if(!t.Collapsed&&t.Nodes&&0<t.Nodes.length)for(n=0;n<t.Nodes.length;n++)e(t.Nodes[n],r,i)}(e.RootNode,e.Container,e),function e(t,r){if(!t.Collapsed&&t.Nodes&&0<t.Nodes.length)for(var i=0;i<t.Nodes.length;i++){if("Vertical"==t.ChildrenConnectorPoint.Layout){var n=r,a=t.ChildrenConnectorPoint,o=t.Nodes[i].ParentConnectorPoint,s=a.X+(o.X-a.X)/2;c(n,a.X,a.Y,s,a.Y,1),c(n,s,a.Y<o.Y?a.Y:o.Y,s,a.Y>o.Y?a.Y:o.Y,1),c(n,s,o.Y,o.X,o.Y,1)}else n=r,a=t.ChildrenConnectorPoint,o=t.Nodes[i].ParentConnectorPoint,s=a.Y+(o.Y-a.Y)/2,c(n,a.X,a.Y,a.X,s,1),c(n,a.X<o.X?a.X:o.X,s,a.X>o.X?a.X:o.X,s,1),c(n,o.X,s,o.X,o.Y,1);e(t.Nodes[i],r)}}(e.RootNode,e.Container);var t=f,r=h,i=e.Container,n=e.RootNode.Width;e=e.RootNode.Height;for(var a=LIM.desordena(t.length),o=0;o<t.length;o++){var s=document.createElement("div");s.innerHTML=t[a[o]],s.className="clesq-drag",s.style.width=n,s.style.height=e,s.cnt="0";var l=i.parentNode;l.appendChild(s),s.npai=r[a[o]],LIM.drag(s,l,m)}}({Container:t,RootNode:n,Layout:s,width:l,height:v}),t.style.width="auto"}function c(e,t,r,i,n,a){var o=document.createElement("div");o.style.top=r+"px",o.style.left=t+"px",t==i?(o.style.width=a+"px",o.style.height=n-r+"px"):(o.style.width=i-t+"px",o.style.height=a+"px"),o.className="clesq-li",e.appendChild(o)}function p(e,t){for(var r=0;r<e.length;r++)e[r].Left+=t,e[r].ParentConnectorPoint&&(e[r].ParentConnectorPoint.X+=t),e[r].ChildrenConnectorPoint&&(e[r].ChildrenConnectorPoint.X+=t),e[r].Nodes&&p(e[r].Nodes,t)}function d(e,t){for(var r=0;r<e.length;r++)e[r].Top+=t,e[r].ParentConnectorPoint&&(e[r].ParentConnectorPoint.Y+=t),e[r].ChildrenConnectorPoint&&(e[r].ChildrenConnectorPoint.Y+=t),e[r].Nodes&&d(e[r].Nodes,t)}function m(e,t,r){e.cnt="0",e.style.visibility="hidden",t=document.elementFromPoint(t,r),e.style.visibility="visible",-1<t.className.indexOf("clesq-oc")&&(e.style.left=t.style.left,e.style.top=t.style.top,e.npai==t.Pai&&(e.cnt="1"))}n.properties.minheight="460";var e=(n=LIM.prc(a,n)).properties.dim||["0","0"],t=Number(n.properties.forma)||0,r=n.properties.texto||"";0<r.indexOf("|")?(tmodo=2,r.split("|")):'"'==r.charAt(0)?r.slice(1,-1).split(" "):(r.split(""),tmodo=1);var i=LIM.crearbase(n);LIM.paxina();var f=[],h=[];null==n.donde&&LIM.comunes(i,n.txcabe,n.txpe,n.properties.ison,n.properties.autoson,n.properties.txliga,n.properties.paxliga),(-1<r.indexOf("[o]")||-1<r.indexOf("[?]"))&&LIM.addEventSimple(LIM.esactividad(i,!0),"click",function(){for(var e=!0,t=i.querySelectorAll(".clesq-drag"),r=0;r<t.length;r++)"1"!=t[r].cnt&&(e=!1);0==e?LIM.poneravaliacion(i,n.properties.mensamal,!1,n.properties.ffinal,n.num):LIM.poneravaliacion(i,n.properties.mensaben,!0,n.properties.ffinal,n.num)}),e=e.map(Number);var s="Vertical";1==t?(s="Horizontal",0==e[0]&&(e[0]=120)):0==e[0]&&(e[0]=140),0==e[1]&&(e[1]=60);var l=e[0],v=e[1];t=document.createElement("div"),i.appendChild(t),function(e,t,r){function i(e){for(var t=0;t<e.length;t++)if("*"!=e[t]&&"\t"!=e[t])return t;return e.length}var n=[0,0,0,0,0,0,0,0],a=e.split("|"),o=0;if(-1<e.indexOf("[?]"))for(e=0;e<a.length;e++)0<a[e].search("[?]")&&(a[e]=a[e].replace("[?]",r[o]+"[o]"),o++);var s,l,c,p,d="",m="";for(r=-1,e=o=0;e<a.length;e++)-1<(m=i(a[e]))&&(m!=o&&(r=o,o=m),d+=(m=(s=a[e],l=m,c=e,p=r,p="",s=s.slice(l),n[l]=c,0<s.indexOf("]")&&(p=s.substring(s.lastIndexOf("[")+1,s.lastIndexOf("]")),s=s.split("["+p+"]").join("")),s.replace(/\s+$/,""),s='{"texto":"'+(s=s.replace(/"/g,'\\"'))+'","num":"'+c+'","nivel":"'+l+'","pai":"'+n[l-1]+'","Action":"'+p+'","liga":""}',JSON.stringify(s),{datjs:s}).datjs)+",");u(a='{"esquema":['+d.substring(0,d.length-1)+"]}",t)}(r,t,[])}}function etiquetas(M){var I={};I=LIM.qhtml(M.donde,I),this.crear=function(){function e(e,t,r){h++,e.style.zIndex=h,t=parseInt(e.id);for(var i=m[t]=0;i<p;i++)if(r=u[i],LIM.estasobre(e,r,!1)){console.log(e.valor+"----"+r.valor),e.valor==r.valor?(console.log("si"),m[t]=1):m[t]=0;break}}M.properties.minheight="430",I=LIM.prc(I,M);for(var r=M.properties.modo||"1",t=M.properties.imaxe||"",i=[],n=[],a=[],o=[],s=[],l=M.properties.etiquetas.length,c=0;c<l;c++)i=M.properties.etiquetas[c].split("||"),n[c]=i[0],a[c]=i[1],o[c]=i[2];"7"==r&&(s=n);var p=n.length,d=LIM.crearbase(M);i=LIM.paxina();var m=Array(p),u=Array(p),f=Array(p);c=0;var h=1100;null==M.donde&&LIM.comunes(d,M.txcabe,M.txpe,M.properties.ison,M.properties.autoson,M.properties.txliga,M.properties.paxliga),-1<"2379".indexOf(r)&&LIM.addEventSimple(LIM.esactividad(d,!0),"click",function(){var e=-1==m.toString().indexOf("0");if("9"==r){for(e=0;e<p;e++){var t=u[e];m[e]=f[e]==t.value?1:0}e=-1==m.toString().indexOf("0")}else if("2"==r){for(e=0;e<p;e++)t=u[e],f[e]==LIM.ttrim(t.value.toLowerCase())?m[e]=1:m[e]=0;e=-1==m.toString().indexOf("0")}"7"==r&&(e=!1,n.toString()==m.toString()&&(e=!0)),e?LIM.poneravaliacion(d,M.properties.mensaben,!0,M.properties.ffinal,M.num):LIM.poneravaliacion(d,M.properties.mensamal,!1,M.properties.ffinal,M.num)}),""!=t&&((c=LIM.crearimaxe({pai:d,name:"imaxclasifica"+i,"":"",posx:0,posy:26,alttext:M.properties.alttext})).src=t,c.style.position="relative"),t=LIM.desordena(p),l=0;var v=LIM.creardom("div",d,"","cletq-marco");if("9"==r){var g=n.slice();LIM.revolve(g)}else if("5"==r){var x=LIM.creardom("div",d,"","cletq-ver");x.innerHTML=""}var b="cletq-punto";for("6"==r&&(b="cletq-lab"),c=0;c<p;c++){l="9"==r||"3"==r?t[c]:c;var L="7"==r?LIM.crearlink({pai:d,name:c+"etqpnt"+i,text:"",url:"javascript:;",cssclass:"cletq-punto",posx:a[c],posy:20+Number(o[c]),alttext:LIM.td("Seleccionar")}):LIM.creardom("div",d,c+"etqpnt"+i,b,a[c],20+Number(o[c]));switch(L.innerHTML=c+1,m[l]=0,r){case"1":x=LIM.creardom("div",v,"","cletq-base");var y=LIM.creardom("span",x,"","cletq-num");y.innerHTML=c+1,(L=LIM.creardom("span",x,"","cletq-txt")).innerHTML=n[l];break;case"2":x=LIM.creardom("div",v,"","cletq-base"),(y=LIM.creardom("span",x,"","cletq-num")).innerHTML=c+1,L=LIM.crearinput({pai:x,name:c+"input"+i,cssclass:"cletq-txt",posx:0,posy:-2,dimw:174,dimh:24,pholder:I.pholder}),u[c]=L,f[c]=n[c].toLowerCase();break;case"3":(u[l]=L).valor=n[c],L=LIM.creardom("div",v,l+"baseetq"+i,"cletq-drag"),y=LIM.creardom("div",L,"","cletq-tri"),x=LIM.creardom("div",L,"","cletq-dragtxt"),L.style.cursor="pointer",LIM.drag(L,d,e),x.innerHTML=n[l],f[l]=n[l],L.valor=n[l];break;case"5":L.valor="<p>"+(c+1)+"- "+n[c]+"</p>",L.son=s[c],L.onmouseover=function(){x.innerHTML=this.valor},L.onmouseout=function(){x.innerHTML=""},L.onclick=function(){LIM.sonar(this.son)},L.style.cursor="pointer";break;case"6":L.innerHTML=n[c];break;case"7":L.valor=n[c],L.num=c,L.style.backgroundColor="yellow",L.onclick=function(){var e=this.num;"0"==m[e]?(m[e]="1",this.style.backgroundColor="red"):(m[e]="0",this.style.backgroundColor="yellow")},L.style.cursor="pointer";break;case"8":L.valor=n[c],L.onclick=function(){LIM.salto(this.valor)},L.style.cursor="pointer";break;case"9":f[l]=n[c],x=LIM.creardom("div",v,"","cletq-base"),(y=LIM.creardom("span",x,"","cletq-num")).innerHTML=c+1,L=LIM.crearselect(x,l+"baseetq"+i,"cletq-list",-1,0,g),u[l]=L}}}}function etiquetastxt(M){var I={};I=LIM.qhtml(M.donde,I),this.crear=function(){function e(e,t,r,i,n,a){var o=r.offsetLeft+r.offsetWidth;r=r.offsetTop+r.offsetHeight/2;var s=i.offsetTop+i.offsetHeight/2,l=i.offsetLeft-o,c=l/parseInt(2*Math.random()+2);i=o+c-n,l-=c,(o=LIM.creardom("div",e,t+"1l","",o,r)).style.position="absolute",o.style.width=c+"px",o.style.height=n+"px",o.style.backgroundColor=a,o.name="lina",r=s<r?((o=LIM.creardom("div",e,t+"2l","",i,s)).style.height=r-s+"px",s):((o=LIM.creardom("div",e,t+"2l","",i,r)).style.height=s-r+"px",r+s-r),o.style.width=n+"px",o.style.position="absolute",o.style.backgroundColor=a,o.name="lina",(o=LIM.creardom("div",e,t+"2l","",i,r)).style.width=n+l+"px",o.style.height=n+"px",o.style.position="absolute",o.style.backgroundColor=a,o.name="lina"}function t(e,t,r){x++,e.style.zIndex=x,t=parseInt(e.id);for(var i=0;i<u;i++){if(r=v[i],LIM.estasobre(e,r,!0)){h[t]=g[i]==e.id[0]?1:0;break}h[t]=0}}M.properties.minheight="430",I=LIM.prc(I,M);for(var r=M.properties.modo||"0",i=M.properties.tam||"14",n=M.properties.imaxe||"",a=M.properties.posx||0,o=M.properties.posy||0,s=[],l=[],c=[],p=[],d=M.properties.etiquetas.length,m=0;m<d;m++)s=M.properties.etiquetas[m].split("||"),l[m]=s[0],c[m]=s[1],p[m]=s[2];var u=l.length,f=LIM.crearbase(M);s=LIM.paxina();var h=Array(u),v=Array(u),g=Array(u);d=i+"px",m=0;var x=1100,b="#ff00ff #000000 #0000ff #fff000 #00ff00 #777777".split(" ");for(null==M.donde&&LIM.comunes(f,M.txcabe,M.txpe,M.properties.ison,M.properties.autoson,M.properties.txliga,M.properties.paxliga),"0"!=r&&LIM.addEventSimple(LIM.esactividad(f,!0),"click",function(){if("1"==r)for(var e=0;e<u;e++)g[e]==LIM.ttrim(v[e].value.toLowerCase())?h[e]=1:h[e]=0;-1<h.toString().indexOf(0)?LIM.poneravaliacion(f,M.properties.mensamal,!1,M.properties.ffinal,M.num):LIM.poneravaliacion(f,M.properties.mensaben,!0,M.properties.ffinal,M.num)}),""!=n&&((m=LIM.crearimaxe({pai:f,name:"imaxclasifica"+s,"":"",posx:Number(a),posy:Number(o)+26,alttext:M.properties.alttext})).addEventListener("load",function(){var e=this.width+50;"2"==r&&(L.style.marginLeft=e+"px")}),m.src=n,m.style.position="relative"),n=LIM.desordena(u),m=o=a=0;m<u;m++)o=Math.max(o,l[m].length);if(o*=i-parseInt(i/2.6),"2"==r)var L=LIM.creardom("div",f,"","cletq2-marco");for(m=0;m<u;m++){if(a="0"==r?m:n[m],"4"!=r){var y=LIM.creardom("div",f,m+"punto"+s,"cletq2-txt",c[m],20+Number(p[m]));y.style.fontSize=d}switch(h[a]=0,r){case"0":y.innerHTML=l[m];break;case"1":i=LIM.crearinput({pai:f,name:m+"input"+s,cssclass:"cletq2-in",posx:c[m],posy:20+Number(p[m]),dimw:o+10,pholder:M.properties.pholder}),v[m]=i,g[m]=l[m].toLowerCase(),i.style.fontSize=d;break;case"2":y.innerHTML="&nbsp;",y.style.width=o+"px",v[a]=y,(i=LIM.creardom("div",L,a+"baseetq"+s,"cletq2-drag",592,10+40*m)).style.fontSize=d,i.style.width=o+"px",LIM.drag(i,f,t),i.innerHTML=l[a],g[a]=m;break;case"4":y.style.width="10px",y.style.height="14px",(v[a]=y).style.backgroundColor=b[m],(i=LIM.creardom("div",f,m+"baseetq"+s,"cletiqueta",592,60*m)).style.position="absolute",i.innerHTML=l[m],g[a]=m,e(f,m+"baseetq"+s,y,i,2,b[m])}}}}function externa(r){var i={};i=LIM.qhtml(r.donde,i),this.crear=function(){r.properties.minheight="450";var e=(r=LIM.prc(i,r)).properties.externa||"",t=LIM.crearbase(r);t=LIM.creardom("div",t,"","clext-base"),t=LIM.creardom("div",t,"",""),0<e.indexOf("iframe")?t.innerHTML=e:t.innerHTML='<iframe src="'+e+'" class="clext-frm" >'+e+"</iframe>"}}function formulas(u){var f={};this.crear=function(){u.properties.minheight="360";var e=(u=LIM.prc(f,u)).properties.etiquetas||[""],t=u.properties.texto||"",r=e.length;if(0<r){t=[];for(var i=[],n=[],a=0;a<r;a++)arretq=e[a].split("||"),t[a]=arretq[0]||"",i[a]=arretq[1]||"",n[a]=arretq[2]||"";a=n[0].length}var o=LIM.crearbase(u);LIM.paxina(),null==u.donde&&LIM.comunes(o,u.txcabe,u.txpe,u.properties.ison,u.properties.autoson,u.properties.txliga,u.properties.paxliga),LIM.addEventSimple(LIM.esactividad(o,!0),"click",function(){for(var e=!0,t=s.length,r=0;r<t;r++)s[r]!=l[r].value&&(e=!1,l[r].value="");e?LIM.poneravaliacion(o,u.properties.mensaben,!0,u.properties.ffinal,u.num):LIM.poneravaliacion(o,u.properties.mensamal,!1,u.properties.ffinal,u.num)});var s=[],l=[];(e=document.createElement("div")).setAttribute("class","clfor-b"),o.appendChild(e);for(var c=0;c<r;c++){var p=document.createElement("div");p.setAttribute("class","clfor-l"),e.appendChild(p);for(var d=0;d<a;d++){if("1"==n[c][d]){var m=document.createElement("div");m.setAttribute("class","clfor-c"),null!=t[c][d]&&(m.innerHTML=t[c][d])}else(m=document.createElement("INPUT")).setAttribute("type","text"),m.setAttribute("maxlength","1"),m.setAttribute("class","clfor-c clfor-in"),s.push(t[c][d]),l.push(m);"s"==i[c][d]&&m.setAttribute("class",m.className+" clfor-sup"),"i"==i[c][d]&&m.setAttribute("class",m.className+" clfor-ind"),p.appendChild(m)}}}}function fraccion(I){var N={texto:"",imaxe:"",altimaxe:"",palabras:"",letras:""};this.crear=function(){function e(e,t,r){for(var i=1;i<r;i+=2)e=74*i,t=i-1,(M=LIM.creardom("div",h,"","clfrac-cx",e,64)).innerHTML=o[t],LIM.creardom("div",h,"","clfrac-se",e,135),t=i,(M=LIM.creardom("div",h,"","clfrac-cx",e,144)).innerHTML=o[t];for(i=1;i<r/3;i++)e=74*i+74,u?(M=LIM.creardom("div",h,"","clfrac-cx",e,103)).innerHTML=l:"="==l&&(m=LIM.creardom("input",h,"","clfrac-cx",e,103))}function t(e,t,r,i,n){v=t*e+t,(M=LIM.creardom("div",r,"","clfrac-cx",v,103)).innerHTML="=",v=t*(e+1)+t,LIM.creardom("div",r,"","clfrac-se",v,135),M=LIM.creardom("input",r,"","clfrac-cx clfrac-re",v,64),i&&(M.value=i),m=LIM.creardom("input",r,"","clfrac-cx clfrac-re",v,144),n&&(m.value=n)}function r(e){var t=Math.pow(10,e)-1;return e=10*(e-1),document.getElementById("demo"),Math.floor(Math.random()*(t-e)+e)+1}I.properties.minheight="430";var o=(I=LIM.prc(N,I)).properties.numeros||[""],s=I.properties.resp||[""],i=I.properties.imaxe||"",n=I.properties.altimaxe||"",l=I.properties.forma||"+",a=I.properties.valor||"";if("1"==(I.properties.alea||"")){var c=Number(o[0]),p=Number(o[1]);o[0]=r(c),o[1]=r(p),o[2]=r(c),"1"==a?(o[3]=o[1],"-"==l&&o[0]==o[2]&&(o[0]+=1)):o[3]=r(p)}c=o.length;var d=LIM.crearbase(I);LIM.paxina();var m,u=!1,f="=";"r"!=l&&"p"!=l&&"="!=l&&(u=!0),null==I.donde&&LIM.comunes(d,I.txcabe,I.txpe,I.properties.ison,I.properties.autoson,I.properties.txliga,I.properties.paxliga),LIM.addEventSimple(LIM.esactividad(d,!0),"click",function(){var e,t=!1;if(u){var r=M.value,i=m.value;if(s[0])if("s"==s[0]){var n=g;for(e=x;0!==e;){var a=e;e=n%e,n=a}n=g/(e=n),e=x/e,n==r&&e==i&&(t=!0)}else Number(s[0])==r&&Number(s[1])==i&&(t=!0);else r/i==g/x&&(t=!0)}"="==l&&m.value==f&&(t=!0),"p"==l&&d.querySelectorAll(".clfrac-sel").length==b&&(t=!0),"r"==l&&(r=M.value,i=m.value,r==Number(o[0])&&i==Number(o[1])&&(t=!0)),t?LIM.poneravaliacion(d,I.properties.mensaben,!0,I.properties.ffinal,I.num):LIM.poneravaliacion(d,I.properties.mensamal,!1,I.properties.ffinal,I.num)}),(a=document.createElement("div")).setAttribute("class","clfrac-cim"),i&&((p=document.createElement("img")).setAttribute("src",i),p.setAttribute("class","clim-adx"),p.setAttribute("alt",n),a.appendChild(p)),d.appendChild(a);var h=LIM.creardom("div",d,"","");switch(n=c/2+1,l){case"+":var g=Number(o[0])*Number(o[3])+Number(o[1])*Number(o[2]),x=Number(o[1])*Number(o[3]);e(74,h,c),t(n,74,h);break;case"-":g=Number(o[0])*Number(o[3])-Number(o[1])*Number(o[2]),x=Number(o[1])*Number(o[3]),e(74,h,c),t(n,74,h);break;case"x":g=Number(o[0])*Number(o[2]),x=Number(o[1])*Number(o[3]),e(74,h,c),t(n,74,h);break;case"/":g=Number(o[0])*Number(o[3]),x=Number(o[1])*Number(o[2]),e(74,h,c),t(n,74,h);break;case"=":g=Number(o[0])/Number(o[1]),(x=Number(o[1])/Number(o[2]))<g&&(f="<"),g<x&&(f=">"),e(74,h,c);break;case"r":if(""==i){"1"==o[1]&&(o[1]="2"),i=Number(o[0]),c=Number(o[1]);var b=i;if((p=c)<i){for(var L=parseInt(i/c),y=0;y<L;y++){var M=LIM.creardom("div",a,"","clfrac-en");M.innerHTML="u"}LIM.creardom("p",a,"","clfrac-l"),b=i%c}for(y=0;y<b;y++)M=LIM.creardom("div",a,"","clfrac-pt clfrac-sel");for(y=0;y<p-b;y++)M=LIM.creardom("div",a,"","clfrac-pt")}t(n-2,74,h);break;case"p":if("1"==o[1]&&(o[1]="2"),""==i){if(i=Number(o[0]),(p=c=Number(o[1]))<(b=i)){for(L=parseInt(i/c),y=0;y<L;y++)(M=LIM.creardom("div",a,"","clfrac-en")).innerHTML="u";LIM.creardom("p",a,"","clfrac-l"),b=i%c}for(y=0;y<p;y++)(M=LIM.creardom("div",a,"","clfrac-pt")).addEventListener("click",function(){this.classList.toggle("clfrac-sel")})}e(74,h,2)}h.className="clfrac-base"}}function frases(f){this.crear=function(){f.properties.minheight="430";var e=f.properties.imaxes||[],t=f.properties.textos||[],i=f.properties.respuestas||[],r=f.properties.sons||[],n=f.properties.modo||0;if(e=LIM.addrecu(e),r=LIM.addrecu(r),1==n&&(t=i),0<e.length)var a=e.length;else 0<i.length&&(a=i.length);var o=e.length,s=LIM.crearbase(f),l=LIM.paxina();null==f.donde&&LIM.comunes(s,f.properties.txcabe,f.properties.txpe,f.properties.ison,f.properties.autoson,f.properties.txliga,f.properties.paxliga),1!=n&&LIM.addEventSimple(LIM.esactividad(s,!0),"click",function(){for(var e,t=!0,r=0;r<a;r++)c[r].value==i[r]?e="1px":t=!(e="5px"),c[r].style="border-width:"+e;t?LIM.poneravaliacion(s,f.properties.mensaben,!0,f.properties.ffinal,f.num):LIM.poneravaliacion(s,f.properties.mensamal,!1,f.properties.ffinal,f.num)}),(o=Array(o)).fill(0)||o.join("0").split("").map(parseFloat);for(var c=[],p=LIM.creardom("div",s,l+"frsb","clfrase-base"),d=0;d<a;d++){if(LIM.nozero(e[d])){var m=LIM.creardom("button",p,d+"frst"+l,"clfrase-im");m.style="background-image: url("+e[d]+");"}else(m=LIM.creardom("button",p,d+"frst"+l,"clfrase-txt")).innerHTML=t[d];if(1==n){var u=LIM.creardom("button",p,d+"frsin"+l,"clfrase-ver");u.innerHTML=t[d],u.setAttribute("readonly","readonly")}else u=LIM.crearinput({pai:p,name:d+"frsin"+l,cssclass:"clfrase-input",pholder:f.properties.pholder});c[d]=u,o[0]=0,LIM.nozero(r[d])&&(m.style.cursor="pointer",t[d]||(m.innerHTML="&#9654"),LIM.addEventSimple(m,"click",function(){var e=parseInt(this.id);r[e]&&LIM.sonar(r[e])}))}}}function galeriaimx(p){var d={textos:[],imaxgr:[],imaxes:[],imaxeAltText:[],sons:[],mensaben:"",mensamal:""},m=new Audio;m.preload="auto",d=LIM.qhtml(p.donde,d),this.crear=function(){function e(){var e=parseInt(this.id);document.getElementById("vista").style.display="block",document.getElementById("btvx").focus(),document.getElementById("vistatexto").innerHTML=p.properties.textos[e]||"";var t=LIM.tcontido(p.properties.imaxgr[e]),r=document.getElementById("vistaimaxe");"s"==t?LIM.crearswf(r,"",p.properties.imaxgr[e],"clgal-imgrande",0,0,360,300,""):"v"==t?(t=LIM.crearvid(r,"",p.properties.imaxgr[e],"clgal-imgrande",0,0,360,300,"")).style.border="solid 1px #cccccc":r.innerHTML="i"==t?'<img src="'+p.properties.imaxgr[e]+'" class="clgal-imgrande" title="">':p.properties.imaxgr[e],LIM.nozero(p.properties.sons[e])&&(m.src=p.properties.sons[e],m.play())}p.properties.minheight="460";var t=(p=LIM.prc(d,p)).properties.imaxes.length,r=LIM.crearbase(p),i=Array(t),n=p.paxina,a=0,o="gal"+n,s=null,l=!1;for(n=LIM.paxina(),null==p.donde&&LIM.comunes(r,p.txcabe,p.txpe,p.properties.ison,p.properties.autoson,p.properties.txliga,p.properties.paxliga),a=0;a<t;a++){l=!1;var c=LIM.creardom("button",r,a+o,"clgal-base",-1,-1);i[a]=c,LIM.nozero(p.properties.textos[a])&&((s=LIM.creardom("div",c,"","clgal-texto",0,0)).innerHTML=p.properties.textos[a].split("|")[0],null!=p.properties.textos[a].split("|")[1]&&(l=!0)),s=LIM.creardom("div",c,"","clgal-imaxe",-1,-1),(s=LIM.crearimaxe({pai:s,name:a+"gimx"+n,cssclass:"",alttext:p.properties.alttext})).style.visibility="hidden",LIM.cargaimaxe(s,p.properties.imaxes[a],248,176,"",!0,!0),null!=p.properties.imaxgr[a]&&""!=p.properties.imaxgr[a]||(p.properties.imaxgr[a]=p.properties.imaxes[a]),l?LIM.addEventSimple(c,"click",function(){var e=parseInt(this.id);LIM.salto(p.properties.textos[e].split("|")[1])}):LIM.addEventSimple(c,"click",e)}void 0!==document.getElementById("vista")&&(t=LIM.creardom("div",r.parentNode,"vista","clgal-big",0,0),LIM.creardom("div",t,"vistatexto","clgal-bigtx"),LIM.creardom("div",t,"vistaimaxe","clgal-bigim"),(t=LIM.creardom("button",t,"btvx","clgal-bigx")).innerHTML="X",t.setAttribute("title",LIM.td("Cerrar"))),LIM.addEventSimple(document.getElementById("btvx"),"click",function(){this.parentNode.style.display="none",document.getElementById("vistaimaxe").innerHTML="",m.pause(),m.currentTime=0})}}function galeriasons(d){var m={textos:[],imaxes:[],imaxeAltText:[],sons:[]};m=LIM.qhtml(d.donde,m),this.crear=function(){function t(e){s.src=d.properties.sons[parseInt(e.id)],s.play()}d.properties.minheight="460";var e=(d=LIM.prc(m,d)).properties.sons.length,r=LIM.crearbase(d),i=LIM.paxina(),n=Array(e),a=0,o="gals"+i,s=null,l="";for(null==d.donde&&LIM.comunes(r,d.properties.txcabe,d.properties.txpe,d.properties.ison,d.properties.autoson,d.properties.txliga,d.properties.paxliga),(s=LIM.creardom("audio",r,"","clson-au")).src="",s.controls=!0,LIM.creardom("p",r,"",""),a=0;a<e;a++){l="";var c=LIM.creardom("button",r,a+o,"clson-base0");if(n[a]=c,0==d.properties.modo){if(d.properties.textos[a]){var p=LIM.creardom("div",c,"","clgal-texto",-1,-1);p.innerHTML=d.properties.textos[a].split("|")[0],null!=d.properties.textos[a].split("|")[1]&&(l=d.properties.textos[a].split("|")[1])}d.properties.imaxes[a]&&(p=LIM.creardom("div",c,"","clgal-imaxe",-1,-1),objix=LIM.crearimaxe({pai:p,name:a+"simx"+i,cssclass:"",alttext:d.properties.alttext}),objix.style.visibility="hidden",LIM.cargaimaxe(objix,d.properties.imaxes[a],248,176,"",!0,!0))}else c.className="clson-base1",d.properties.imaxes[a]&&(p=LIM.creardom("div",c,"","clson-cim"),(p=LIM.crearimaxe({pai:p,name:a+"simx"+i,cssclass:"clson-im",alttext:d.properties.alttext})).src=d.properties.imaxes[a]),LIM.nozero(d.properties.textos[a])&&((p=LIM.creardom("span",c,"","clson-sotext",-1,-1)).innerHTML=d.properties.textos[a]);""!=d.properties.sons[a]&&null!=d.properties.sons[a]&&(""!=l?LIM.addEventSimple(c,"click",function(){t(this);var e=parseInt(this.id);LIM.salto(d.properties.textos[e].split("|")[1])}):LIM.addEventSimple(c,"click",function(){t(this)}))}}}function identificarimx(x){var b={imaxes:[],altimaxes:[],textos:[],sons:[],color:""};b=LIM.qhtml(x.donde,b),this.crear=function(){function e(e){e=parseInt(this.id),LIM.sonar(i[e])}function t(e,t,r){for(var i=parseInt(e.id),n=p[i]=0;n<c;n++){var a=d[n];p[i]=0,LIM.ratosobre(e,a,t,r,!1)&&(a.style.height=e.offsetHeight+"px","3"==l?o[i]==m[n]&&(p[i]=1,n=c):e.innerHTML==m[n]&&(p[i]=1,n=c))}-1==p.toString().indexOf(0)&&LIM.poneravaliacion(s,x.properties.mensaben,!0,x.properties.ffinal,x.num)}x.properties.minheight="430";var r=(x=LIM.prc(b,x)).properties.textos||[],o=x.properties.sons||[],s=LIM.crearbase(x),l=x.properties.modo||"2",c="3"!=l?r.length:o.length;r=LIM.paxina();var p=Array(c),d=Array(c),m=Array(c),i=Array(c),n=0,a=mh=0,u="";null==x.donde&&LIM.comunes(s,x.txcabe,x.txpe,x.properties.ison,x.properties.autoson,x.properties.txliga,x.properties.paxliga),LIM.addEventSimple(LIM.esactividad(s,!0),"click",function(){var e=!0;if("1"!=l)-1<p.toString().indexOf(0)&&(e=!1);else for(var t=0;t<d.length;t++)d[t].value.toLowerCase()!=m[t]&&(e=!1);return e?LIM.poneravaliacion(s,x.properties.mensaben,!0,x.properties.ffinal,x.num):LIM.poneravaliacion(s,x.properties.mensamal,!1,x.properties.ffinal,x.num),!0});var f=LIM.desordena(c),h="cliden-base";if("3"==l){for(n=0;n<c;n++){var v=LIM.creardom("div",s,n+"igal"+r,"cliden-destim",-1,-1);d[n]=v,x.properties.sons[n]&&(i[n]=x.properties.sons[n],LIM.addEventSimple(v,"click",e),v.style.cursor="pointer"),h="cliden-mov"}for((v=LIM.creardom("div",s,"","")).style.clear="both",n=0;n<c;n++){netq=f[n],v=LIM.creardom("div",s,netq+"igalm"+r,h,-1,-1),u=LIM.creardom("div",v,"","cliden-imaxe",-1,-1);var g=LIM.crearimaxe({pai:u,name:netq+"iimx"+r,cssclass:"",posx:1,posy:1,alttext:x.properties.alttext});m[n]=o[n],x.properties.imaxes[netq]&&(LIM.cargaimaxe(g,x.properties.imaxes[netq],238,156,"",!0,!0),p[n]=0,LIM.drag(v,s,t))}}else{for(n=0;n<c;n++)netq=f[n],v=LIM.creardom("div",s,"","cliden-base",-1,-1),u=LIM.creardom("div",v,netq+"igal"+r,"cliden-imaxe",-1,-1),d[netq]=u,g=LIM.crearimaxe({pai:u,name:netq+"iimx"+r,cssclass:"",posx:1,posy:1,alttext:x.properties.alttext}),x.properties.imaxes[netq]?LIM.cargaimaxe(g,x.properties.imaxes[netq],238,156,"",!0,!0):u.innerHTML="<span>?</span>",x.properties.sons[netq]&&(i[netq]=x.properties.sons[netq],LIM.addEventSimple(u,"click",e),g.style.cursor="pointer"),"2"==l?(u=LIM.creardom("div",v,netq+"txt"+r,"cliden-dest",-1,-1)).innerHTML="":"1"==l&&(u=LIM.crearinput({pai:v,cssclass:"cliden-in",pholder:x.properties.pholder}),m[netq]=x.properties.textos[netq].toLowerCase()),d[netq]=u;if("2"==l){for(v=LIM.creardom("div",s,"","cliden-betiq",-1,-1),n=0;n<c;n++)h=LIM.creardom("div",v,n+"ietiq"+r,"cliden-etiq",-1,-1),u=x.properties.textos[n]||"","i"==LIM.tcontido(u)?(u='<img class="cladx-im" src="'+x.properties.textos[n]+'" />',a=152,h.style.height=150..toString()+"px"):u=x.properties.textos[n],h.innerHTML=u,netq=f[n],m[n]=h.innerHTML,LIM.drag(h,s,t),p[n]=0,mh=h.offsetHeight,mh>a&&(a=mh);for(v.style.display="none",n=0;n<c;n++)d[n].style.height=a+"px";v.style.display="block"}}}}function imaxetexto(t){var r={texto:"",cfondo:"",ctexto:""};r=LIM.qhtml(t.donde,r),this.crear=function(){t.properties.minheight="430",t=LIM.prc(r,t);var e=LIM.crearbase(t);document.createElement("div"),(e=e.getElementsByTagName("font"))&&LIM.cambiafont(e)}}function letras(N){var w={};this.crear=function(){function e(e,t,r){var i=parseInt(e.id);u[i]&&(u[i].innerHTML=" "),u[i]=200,e.style.visibility="hidden",t=document.elementFromPoint(t,r),parseInt(t.id),e.style.visibility="visible","clletras-letra"==t.className?(e.style.position="absolute",(u[i]=t).innerHTML=e.innerHTML,e.style.left=t.style.left,e.style.top=t.style.top):e.style.top="0px"}N.properties.minheight="430";var t,r=(N=LIM.prc(w,N)).properties.palabras||[""],i=N.properties.imaxes||[],n=N.properties.altimaxes||[""],a=N.properties.sons||[""],o=N.properties.texto||"",s=N.properties.letras||"",l=LIM.crearbase(N),c=LIM.paxina(),p=20,d=20,m="ltr"+c,u=[],f=t="",h="",v=!1,g="",x=0;LIM.addEventSimple(LIM.esactividad(l,!0),"click",function(){for(var e="",t=y.querySelectorAll(".clletras-letra"),r=0;r<t.length;r++)e+=t[r].innerHTML;h==e?LIM.poneravaliacion(l,N.properties.mensaben,!0,N.properties.ffinal,N.num):LIM.poneravaliacion(l,N.properties.mensamal,!1,N.properties.ffinal,N.num)});var b=r.length,L=0;if(""!=o){var y=LIM.creardom("div",l,"","clletras-txt");y.innerHTML=o,d+=10}for(y=LIM.creardom("div",l,"","clletras-base"),o=0;o<b;o++){if(p=20,f="",-1<(t=r[o]).indexOf("_")){for(v=!0,f=t.split("_"),p=1;p<f.length;p++)g+=f[p][0],f[p]=f[p].substring(1);f=f.join(" "),t=t.replace(RegExp("_","g"),""),r[o]=t}else v=!1,g+=t;h+=t;var M=document.createElement("div");M.setAttribute("class","clletras-cim"),M.setAttribute("id",o+"bltr"+c),i[o]&&((p=document.createElement("img")).setAttribute("src",i[o]),p.setAttribute("class","clletras-im"),p.setAttribute("alt",n[o]),M.appendChild(p)),y.appendChild(M),p=190,a[o]&&(LIM.addEventSimple(M,"click",function(){var e=parseInt(this.id);LIM.sonar(a[e]),console.log(this.id+"+++"+e+"---"+a[e])}),M.style.cursor="pointer"),M=t.length;for(var I=0;I<M;I++)(t=document.createElement("div")).setAttribute("id",L+m),t.setAttribute("class","clletras-letra"),y.appendChild(t),x=p+74*I,v&&(t.innerHTML=f[I]," "!=f[I]&&t.setAttribute("class","clletras-letra clletras-fx")),t.style.left=x+"px",t.style.top=d+"px",L++;d+=130}for(m="ltrd"+c,LIM.creardom("span",y,"","clletras-mar"),r=g,s&&(r+=s),M=r.length,s=LIM.desordena(M),I=0;I<M;I++)(t=LIM.creardom("div",y,I+m,"clletras-drag")).innerHTML=r[s[I]],u[s[I]]=null,LIM.drag(t,l,e)}}function liga(u){this.crear=function(){function e(e,t){for(a=0;a<p;a++){var r=LIM.crearlink({pai:m,url:"javascript:LIM.salto('"+n[a]+"')",posx:o[a],posy:s[a],text:i[a],cssclass:t,alttext:i[a]});e&&(r.style.backgroundImage="url("+l+")")}}u.properties.minheight="430";var i=u.properties.liga,n=u.properties.ir,o=u.properties.posx,s=u.properties.posy,t=u.properties.imaxe||"",r=u.properties.altimaxe||"",l=u.properties.forma||"",c=u.properties.modo||"0",p=n.length,d=LIM.crearbase(u);LIM.paxina();var m=LIM.creardom("div",d,"","clliga-base");if("1"==c)for(a=0;a<p;a++)LIM.crearlink({pai:m,url:"javascript:LIM.salto('"+n[a]+"')",text:i[a],cssclass:"clliga-boton",alttext:i[a]});else u.properties.texto&&(LIM.creardom("div",d,"","clliga-text",10,5).innerHTML=u.properties.texto),""!=t&&((c=document.createElement("IMG")).src=t,c.className="clliga-im",c.title=r,m.appendChild(c)),l?((t=new Image).src=l,t.onload=function(){e(1,"clliga-bti")}):e(0,"clliga-bt clliga-sty")}}function medidas(b){var L={};this.crear=function(){function e(e){var t=e.target;"clmed-c"!=t.className&&(t=e.target.parentNode),e=parseInt(t.id),(t=document.createElement("img")).className=c[e].toString()+" clmed-dr",t.src=d[e],t.title=m[e],t.valor=c[e],g.appendChild(t),LIM.drag(t,g.parentNode,r),h+=c[e],LIM.addEventSimple(t,"dblclick",i)}function r(e,t,r){t=Number(e.className.replace(/[^0-9.]/g,"")),LIM.estasobre(e,x)&&(h-=Number(t),e.parentNode.removeChild(e))}function i(e){e=e.target;var t=Number(e.className.replace(/[^0-9.]/g,""));h-=Number(t),e.parentNode.removeChild(e)}selecciona=LIM.prc(L,b),b.properties.minheight="430";for(var t=b.properties.imaxe||"",n=b.properties.texto||"",a=b.properties.altimaxe||"",o=b.properties.etiquetas||[],s=Number((b.properties.valor||"5").replace(",",".")),l=[],c=[],p=[],d=[],m=[],u=o.length,f="",h=0,v=0;v<u;v++)f=(l=o[v].split("||"))[0]||"1",c[v]=Number(f.replace(",",".")),p[v]=l[1]||"",d[v]=l[2]||"",m[v]=l[3]||"";var g=LIM.crearbase(b);o=LIM.paxina(),LIM.addEventSimple(LIM.esactividad(g,!0),"click",function(){s==h?LIM.poneravaliacion(g,b.properties.mensaben,!0,b.properties.ffinal,b.num):LIM.poneravaliacion(g,b.properties.mensamal,!1,b.properties.ffinal,b.num)}),""!=n&&((l=LIM.creardom("span",g,"","clmed-s")).innerHTML=n),""!=t?((v=document.createElement("img")).className="clmed-b clmed-bi",v.src=t,v.title=a):(v=document.createElement("div")).className="clmed-b",g.appendChild(v);var x=LIM.creardom("div",g,"","clmed-m");for(v=0;v<u;v++)t=LIM.creardom("div",x,v.toString()+"med"+o.toString(),"clmed-c",0,0),(a=LIM.crearimaxe({pai:t,cssclass:"clmed-i",alttext:m[v]})).style.visibility="hidden",LIM.cargaimaxe(a,d[v],144,96,"",!0,!0),""!=p[v]&&((l=LIM.creardom("span",t,"","clmed-t")).innerHTML=p[v]),LIM.addEventSimple(t,"click",e);LIM.creardom("div",x,"","clmed-d")}}function memoria(m){this.crear=function(){function r(e){for(var t=0;t<25;t++)1==e&&1==c[t]&&(p[t].parentNode.className="clmem-cadro clmem-ben"),p[t].style.visibility="hidden"}m.properties.minheight="430";var e=m.properties.imaxes||["",""],t=Number(m.properties.numero)||5,n=m.properties.forma||"0",i=m.properties.alea||"0",a=m.properties.altimaxe||"",o=e[0],s=LIM.crearbase(m),l=LIM.paxina();24<t&&(t=20),"1"==i&&(t=Math.floor(Math.random()*t+1)),(i=Array(t)).fill(e[0]),(t=Array(25-t)).fill(e[1]),imaxes=t.concat(i);var c=Array(25);c.fill(0);var p=Array(25);LIM.addEventSimple(LIM.esactividad(s,!0),"click",function(e){e=!0;for(var t=0;t<25;t++)1==c[t]?"clmem-tapa clmem-sel"!=p[t].className&&(e=!1):0==c[t]&&"clmem-tapa clmem-sel"==p[t].className&&(e=!1);e?(r(1),LIM.poneravaliacion(s,m.properties.mensaben,!0,m.properties.ffinal,m.num)):LIM.poneravaliacion(s,m.properties.mensamal,!1,m.properties.ffinal,m.num)});function d(e,t,r,i){return r=t+"mem"+r,(e=document.createElement("div")).className="clmem-cadro",e.id=r,s.appendChild(e),self=this,LIM.crearimaxe({pai:e,cssclass:"clmem-im",alttext:"",posx:0,posy:0}).src=i,(i=document.createElement("div")).className="clmem-tapa",e.appendChild(i),"1"==n&&(i.innerHTML=t.toString()),LIM.addEventSimple(i,"click",function(){this.className="clmem-tapa clmem-sel"==this.className?"clmem-tapa":"clmem-tapa clmem-sel"}),i}e=LIM.creardom("div",s,"","clmem-cadro clmem-mod"),a=LIM.crearimaxe({pai:e,alttext:a}),LIM.cargaimaxe(a,o,104,104,"",!0,!0),LIM.addEventSimple(a.parentNode,"mousedown",function(){r(0)}),LIM.addEventSimple(a.parentNode,"mouseleave",function(){for(var e=0;e<25;e++)p[e].style.visibility="visible",p[e].className="clmem-tapa"}),function(){for(var e,t=LIM.desordena(25),r=0;r<25;r++)e=t[r],imaxes[e]==o&&(c[r]=1),p[r]=new d(s,r+1,l,imaxes[e])}()}}function menu(s){var l={};l=LIM.qhtml(s.donde,l),this.crear=function(){s.properties.minheight="430";var e=(s=LIM.prc(l,s)).properties.ctexto||"",t=s.properties.cfondo||"",r=LIM.crearbase(s),i=r.querySelector(".clmenu-base");if(i){var n=document.createElement("DIV");n.className="clmenu-tabcontent",i.appendChild(n);var a=r.querySelector(".clmenu-tab");i=a.querySelectorAll(".clmenu-bottab"),a.querySelectorAll(".clmenu-contenttab");var o=i[0];for(o.classList.add("clmenu-selected"),n.innerHTML=i[0].parentNode.querySelector(".clmenu-contenttab").innerHTML,a=0;a<i.length;a++)""!=e&&(i[a].style.color="#"+e),""!=t&&(i[a].style.backgroundColor="#"+t),i[a].addEventListener("click",function(e){n.innerHTML=this.parentNode.querySelector(".clmenu-contenttab").innerHTML,o.classList.remove("clmenu-selected"),this.classList.add("clmenu-selected"),o=this})}(e=r.getElementsByTagName("font"))&&LIM.cambiafont(e)}}function moverimx(x){var b={};b=LIM.qhtml(x.donde,b),this.crear=function(){function e(e,t,r){if(f++,e.style.zIndex=f,t=parseInt(e.id),"2"==x.properties.modo)for(r=0;r<p;r++)LIM.estasobre(e,u[r],!0)?(m[t]=1,r=p,-1==m.toString().indexOf(0)&&LIM.poneravaliacion(d,x.properties.mensaben,!0,x.properties.ffinal,x.num)):m[t]=a[t]==g?1:0;else LIM.estasobre(e,u[t],!0)?-(m[t]=1)==m.toString().indexOf(0)&&LIM.poneravaliacion(d,x.properties.mensaben,!0,x.properties.ffinal,x.num):m[t]=0}b=LIM.prc(b,x),x.properties.minheight="430";for(var t=x.properties.modo||"1",r=x.properties.imaxe||"",i=[],n=[],a=[],o=[],s=[],l=x.properties.etiquetas.length,c=0;c<l;c++)i=x.properties.etiquetas[c].split("||"),n[c]=i[0]||"",a[c]=i[1]||0,o[c]=i[2]||0,s[c]=i[3]||"",o[c]=Number(o[c])+20;var p=n.length,d=LIM.crearbase(x);i=LIM.paxina();var m=Array(p),u=Array(p);c=0;var f=1100;if(""!=r){null==x.donde&&LIM.comunes(d,x.txcabe,x.txpe,x.properties.ison,x.properties.autoson,x.properties.txliga,x.properties.paxliga),"3"!=t&&LIM.addEventSimple(LIM.esactividad(d,!0),"click",function(){return-1<m.toString().indexOf(0)?LIM.poneravaliacion(d,x.properties.mensamal,!1,x.properties.ffinal,x.num):LIM.poneravaliacion(d,x.properties.mensaben,!0,x.properties.ffinal,x.num),!0}),t=LIM.desordena(p);var h=0,v=void 0;h=null;var g=630;for(l=LIM.creardom("div",d,"","clcol1"),(c=LIM.crearimaxe({pai:l,name:"imaxmove"+i,cssclass:"",posx:1,posy:1,alttext:x.properties.alttext})).src=r,c.style.top="20px",c.style.position="relative",r=LIM.creardom("div",d,"","clmovimx-marco"),c=0;c<p;c++)h=t[c],v=LIM.creardom("div",l,c+"punto"+i,"clmovimx-punto",Number(a[c]),Number(o[c])),u[c]=v,"1"!=x.properties.modo&&(v.style.opacity="0.0",v.style.filter="alpha(opacity=0)"),h=LIM.crearimaxe({pai:r,name:c+"imx"+i,cssclass:"",posy:50*h,alttext:s}),LIM.cargaimaxe(h,n[c],500,500,"",!1,!1),LIM.drag(h,d,e),m[c]=0,a[c]==g&&(m[c]=1)}}}function operacion(N){var w={};w=LIM.qhtml(N.donde,w);var E=this;this.crear=function(){function e(e,t,r,i,a,o,s,l){i="",s=0;var c=null,p=e.length+1,d="";for(n=1;n<p;n++)s++,d=e.substr(-n,1),c=a?LIM.crearinput({pai:f,cssclass:"clopera-in",posx:t-42*s,posy:5+42*r+5,pholder:" "}):LIM.creardom("div",f,"","clopera-b",t-42*s,5+42*r+5),null!=d&&(i="."==d?(s--,1==o?y:""):(1==l&&(c.dd=!0,c.let=d.toString()+i,c.cssstyleName="txop dest",b++,"1"==E.modo&&(c.onclick=function(){E.innerHTML=""}),"2"==E.modo&&(c.onPress=function(){})),1==a?(u.push(d.toString()+i),m.push(c)):c.innerHTML=d.toString()+i,"x"!=d&&"+"!=d&&"-"!=d||(c.onPress=function(){}),"")),L[M]=d.toString()+i,M++}function r(e){var t=parseInt(e);return String(t)}function i(e,t){for(var r="1",i=0;i<t;i++)r+="0";return r=Number(r),e==parseInt(e)?e/r:parseInt(e*r)/r}function a(e,t,r){var i=L.length,n=parseInt(e.id);for(e.style.top="380px",e.style.left=LIM.dom(n+"cadr").style.left,n=0;n<i;n++){var a=LIM.dom(n+"dst");if(LIM.ratosobre(e,a,t,r,!1)&&"txop dest"==a.cssstyleName){a.innerHTML=e.innerHTML;break}}}var m=[],u=[];N.properties.minheight="430",w=LIM.prc(w,N);var o=N.properties.forma||"+",s=N.properties.numeros||[""],l=N.properties.alea||"0",p=LIM.crearbase(N),d=LIM.paxina();LIM.addEventSimple(LIM.esactividad(p,!0),"click",function(){for(var e=!0,t=m.length,r=0;r<t;r++)m[r].value!=u[r]&&(m[r].value="",e=!1);e?LIM.poneravaliacion(p,N.properties.mensaben,!0,N.properties.ffinal,N.num):LIM.poneravaliacion(p,N.properties.mensamal,!1,N.properties.ffinal,N.num)});var f=LIM.creardom("div",p,"txpanel"+d,"",0,0);"1"==l&&(resalea=function(e,t,r){var i=0,n=[],a=0,o=0;10<(o=Number(e))&&(o=10),10<(t=Number(t))&&(t=10);var s,l,c,p,d=Math.pow(10,o)-1,m=Math.pow(10,o-1);switch(d=(e=(i=Math.floor(Math.random()*(d-m+1))+m).toString()).length-1,n[0]=e,m="",r){case"0":for(a=0,d=Math.pow(10,t)-1,m=Math.pow(10,t-1);0==a;)a=Math.floor(Math.random()*(d-m+1))+m;0==a&&(a=1),n[1]=a.toString(),m="+";break;case"1":for(a=0,d=Math.pow(10,t)-1,m=Math.pow(10,t-1);0==a;)a=Math.floor(Math.random()*(d-m+1))+m;1==t&&0==a&&(a=1),a<i?n[1]=a.toString():(n[0]=a.toString(),n[1]=e),m="-";break;case"2":for(a=0,d=Math.pow(10,t)-1,m=Math.pow(10,t-1);0==a;)a=Math.floor(Math.random()*(d-m+1))+m;n[1]=a.toString(),m="x";break;case"3":if(a=0,o!=t)for(d=Math.pow(10,t)-1,m=Math.pow(10,t-1);0==a;)a=Math.floor(Math.random()*(d-m+1))+m;else for(;0==a;)a=Math.floor(9*Math.random())+1;e<a?(n[1]=e.toString(),n[0]=a.toString()):n[1]=a.toString(),m="/";break;case"4":for(r=d;-1<r;r--)a+=Math.pow(10,r)*(l=Number(e.charAt(d-r)),c=9,p=0,Math.floor(Math.random()*(c-l-p+1))+p);0==a&&(--i<(a=1)&&(i=8)),e=i.toString(),n[0]=e,n[1]=a.toString(),m="+";break;case"5":for(r=d;-1<r;r--)posn=d-r,a+=Math.pow(10,r)*(0==(s=Number(e.charAt(d-r)))?0:Math.floor(Math.random()*s));0==a&&(9<(i+=a=1)&&(i=9)),e=i.toString(),n[0]=e,n[1]=a.toString(),m="-";break;case"7":if(t<=o){for(i=a=0,d=Math.pow(10,t)-1,m=Math.pow(10,t-1);0==i;)i=Math.floor(Math.random()*(d-m+1))+m;if(o!=t)for(d=Math.pow(10,o-t)-1,m=Math.pow(10,o-t-1);0==a;)a=Math.floor(Math.random()*(d-m+1))+m;else for(o=(i*(a=Math.floor(9*Math.random())+1)).toString().length;t<o;)o=(i*--a).toString().length;n[0]=(i*a).toString(),n[1]=i.toString(),m="/"}break;case"8":if(a=0,o!=t)for(d=Math.pow(10,t)-1,m=Math.pow(10,t-1);0==a;)a=Math.floor(Math.random()*(d-m+1))+m;else for(;0==a;)a=Math.floor(9*Math.random())+1;e<a?(n[1]=e.toString(),n[0]=a.toString()):n[1]=a.toString(),m="d";break;case"9":if(t<=o){for(i=a=0,d=Math.pow(10,t)-1,m=Math.pow(10,t-1);0==i;)i=Math.floor(Math.random()*(d-m+1))+m;if(o!=t)for(d=Math.pow(10,o-t)-1,m=Math.pow(10,o-t-1);0==a;)a=Math.floor(Math.random()*(d-m+1))+m;else for(o=(i*(a=Math.floor(9*Math.random())+1)).toString().length;t<o;)o=(i*--a).toString().length;n[0]=(i*a).toString(),n[1]=i.toString(),m="d"}break;case"6":for(a=0,d=Math.pow(10,t)-1,m=Math.pow(10,t-1);0==a;)a=Math.floor(Math.random()*(d-m+1))+m;console.log(a),n[1]=a.toString(),"0"==n[1].slice(-1)&&(n[1]=(a+1).toString()),m="x"}return(i={}).nume=n,i.opera=m,i}(s[0],s[1],o),s=resalea.nume,o=resalea.opera);var h=0,v=0,g="",x=1;v=s.length;var b=60;d=680;var L=[],y=".",M=0;for(l=0;l<v;l++)-1<(h=s[l].toString()).indexOf(",")&&(s[l]=Number(h.replace(",",".")),y=",");switch(l="",o){case"x":l=s[0];var I=s[1];if(e(l,d-42,1,10,E.tdocl,1,E.tdocl,E.tdocl),e("x  "+I,d-42,2,20,E.tdocl,1,E.tdocl,E.tdocl),1<I.length){for(c=0,sin="";c<l.length;)"."!=l.substr(c,1)&&(sin+=l.substr(c,1)),c++;for(c=0,sin2="";c<I.length;)"."!=I.substr(c,1)&&(sin2+=I.substr(c,1)),c++}else sin=l,sin2=I;if(tempnum=lnf=0,long=sin2.length,"0"==I.substr(0,1)){for(t=tnum=1;t<sin2.length;t++)"0"==sin2.substr(t,1)?tnum++:t=sin2.length;long-=tnum,1==long&&(long=0)}if(1==long)lnf++,h=Number(l)*Number(I),pasar=h.toString(),e(pasar,d-42*x,lnf+2,b,1,1,1,1);else for(t=1;t<long+1;t++)lnf++,0==(h=Number(sin)*Number(sin2.substr(-t,1)))?(g+="0",lnf--):(pasar=h.toString()+g,e(pasar.toString(),d-42*x,lnf+2,b,1,1,1,1),x=x+g.length+1,g="");if(lnf++,h=(Number(l)*Number(I)).toString(),x=sin*sin2,g=h.indexOf("."),c=x.toString().length-h.length,-1!=g&&(c+=1),-1!=l.toString().indexOf(".")||-1!=I.toString().indexOf("."))for(-1==g&&(h+="."),t0=0;t0<c;t0++)h+="0";(x=LIM.creardom("div",f,"","",d-42-42*h.length,133)).style.width=42*h.length+"px",x.style.height="2px",x.style.backgroundColor="#000000",x.style.position="absolute",1<sin2.length&&((x=LIM.creardom("div",f,"","",d-42-42*h.toString().length-40,5+42*(lnf+2)+2)).style.width=60+42*h.toString().length+"px",x.style.height="2px",x.style.backgroundColor="#000000",x.style.position="absolute",e(h,d-42,lnf+2,b,1,1,1,1));break;case"/":if(Number(s[0])<Number(s[1])&&s[0].length<=s[1].length)for(t=1;t<=s[1].length;t++)s[0]+=".0";if(o=560+42*s[1].length,e(s[1],o,1,10,E.tdocl,1,E.tdocl,E.tdocl),numerosin="",c=l=0,d=352,I=x=g=0,-1<(g=s[1].indexOf("."))?(I=(h=s[1].split("."))[1].length,numerosin2=0==h[0]?r(h[1]):r(h[0])+r(h[1]),d+=42*(g=numerosin2.length-g),e(s[0],o-42*s[1].length-10,1,20,E.tdocl,1,E.tdocl,E.tdocl)):(numerosin2=s[1],e(s[0],o-42*(s[1].length+1)-10,1,20,E.tdocl,1,E.tdocl,E.tdocl)),d=505,l=-1<(l=s[0].indexOf("."))?(x=(h=s[0].split("."))[1].length,numerosin=0==h[0]?r(h[1]):r(h[0])+r(h[1]),numerosin.length-l):(numerosin=s[0],0),g=numerosin.length,s[2]=Number(s[0])/Number(s[1]),I<=x)l=x-I;else for(o=0;o<I-x;o++)numerosin+="0";for(s[2]=i(s[2],l),cocient=String(s[2]),l=cocient.length,s[2]!=parseInt(s[2])&&--l,l=556+42*l,e(cocient,l,2,b,1,1,1,1),l-=42*cocient.length,(x=LIM.creardom("div",f,"","",l,85)).style.width="160px",x.style.height="2px",x.style.backgroundColor="#000000",x.style.position="absolute",(x=LIM.creardom("div",f,"","",l,55)).style.width="2px",x.style.height="30px",x.style.backgroundColor="#000000",x.style.position="absolute",s[1]=numerosin2,s[2]=Number(numerosin)/Number(s[1]),cocient=s[2].toString(),l=s[1].length,divd=numerosin.substr(0,l),desc=0;Number(divd)<s[1];)l++,divd=numerosin.substr(0,l);for(cociente=parseInt(divd/s[1]),numres=Number(cocient.substr(0,1))*Number(s[1]),numress=numres.toString(),dvdv=numerosin.substr(0,numress.length),medio=Number(divd)-numres,(x=medio.toString().length)<=(I=numress.length)&&x<s[1].length?e("0"+medio.toString(),d-42*(g-divd.length),2,b,1,1,1,1):(e(medio.toString(),d-42*(g-divd.length),2,b,1,1,1,1),b++),b--,final=divd.length,ft=1,o=t=0;t<numerosin.length-l;)t++,ft++,numres=Number(cocient.substr(t,1))*Number(s[1]),dvdv=medio+numerosin.substr(final,1),medio=dvdv-numres,e(numerosin.substr(final,1),d-42*(g-final-1),ft,b,1,1,1,1),0!=Number(cocient.substr(t,1))?(o++,(x=medio.toString().length)<=(I=numres.toString().length)&&x<s[1].length?e("0"+medio.toString(),d-42*(g-final-1),ft+1,b,1,1,1,1):e(medio.toString(),d-42*(g-final-1),ft+1,b,1,1,1,1)):ft--,final++;break;case"d":if(d=200,Number(s[0])<Number(s[1])&&s[0].length<=s[1].length)for(t=1;t<=s[1].length;t++)s[0]+=".0";if(s[1]==parseInt(s[1])){for(e(s[0],d+42*s[0].length+25,2,10,E.tdocl,1,E.tdocl,E.tdocl),e(s[1],d,2,20,E.tdocl,1,E.tdocl,E.tdocl),numerosin="",c=l=0;c<s[0].length;)"."!=s[0].substr(c,1)?numerosin+=s[0].substr(c,1):l=c+1,c++;for(s[2]=Number(s[0])/Number(s[1]),s[2]=i(s[2],l),l=I,cocient=s[2].toString(),e(cocient,d+42*s[0].length+25,1,b,1,1,1,1),g=d+42*(s[0].length-1)+25,l=d+30,(x=LIM.creardom("div",f,"","",l,91)).style.width="200px",x.style.height="2px",x.style.backgroundColor="#000000",x.style.position="absolute",(x=LIM.creardom("div",f,"","",l,91)).style.width="2px",x.style.height="35px",x.style.backgroundColor="#000000",x.style.position="absolute",s[2]=Number(numerosin)/Number(s[1]),cocient=s[2].toString(),l=s[1].length,divd=numerosin.substr(0,l),desc=0;Number(divd)<s[1];)l++,divd=numerosin.substr(0,l);for(cociente=parseInt(divd/s[1]),numres=Number(cocient.substr(0,1))*Number(s[1]),numress=numres.toString(),dvdv=numerosin.substr(0,numress.length),medio=Number(divd)-numres,(x=medio.toString().length)<=(I=numress.length)&&x<s[1].length?e("0"+medio.toString(),g-42*(numerosin.length-divd.length-1),3,b,1,1,1,1):(e(medio.toString(),g-42*(numerosin.length-divd.length-1),3,b,1,1,1,1),b++),b--,final=divd.length,ft=2,t=0;t<numerosin.length-l;)t++,ft++,numres=Number(cocient.substr(t,1))*Number(s[1]),dvdv=medio+numerosin.substr(final,1),medio=dvdv-numres,e(numerosin.substr(final,1),g-42*(numerosin.length-final-2),ft,b,1,1,1,1),0!=Number(cocient.substr(t,1))?(x=medio.toString().length)<=(I=numres.toString().length)&&x<s[1].length?e("0"+medio.toString(),g-42*(numerosin.length-final-2),ft+1,b,1,1,1,1):e(medio.toString(),g-42*(numerosin.length-final-2),ft+1,b,1,1,1,1):ft--,final++}break;case"+":for(l=0,v=s.length,t=I=g=0;t<v;t++)-1!=(g=s[t].indexOf(".",0))&&(l<(I=s[t].length-g-1)&&(l=I));for(d-=50*l,t=h=0;t<v;t++)lonc=0,-1!=s[t].indexOf(".")&&(lonc=s[t].length-s[t].indexOf(".")-1),e(s[t],d+42*lonc,t+1,10*(t+1),E.tdocl,1,E.tdocl,E.tdocl),h+=Number(s[t]);if(x=h.toString(),e("+",650-42*h.toString().length,t,10*(t+1),0,1,0,0),(x=LIM.creardom("div",f,"","",650-42*h.toString().length,5+42*(t+1)+1)).style.width=100+42*h.toString().length+"px",x.style.height="2PX",x.style.backgroundColor="#000000",x.style.position="absolute",pasar=h.toString(),0<l)for(lonc=l,-1==pasar.indexOf(".")?(pasar+=".",lonc=0):lonc=pasar.length-(pasar.indexOf(".")+1),t0=lonc;t0<l;t0++)pasar+="0";e(pasar,d+42*l,t+1,b,1,1,1,1);break;case"-":for(l=0,v=s.length,t=I=g=0;t<v;t++)-1!=(g=s[t].indexOf(".",0))&&(l<(I=s[t].length-g-1)&&(l=I));for(d-=50*l,t=h=0;t<v;t++)lonc=0,-1!=s[t].indexOf(".")&&(lonc=s[t].length-s[t].indexOf(".")-1),e(s[t],d+42*lonc,t+1,10*(t+1),E.tdocl,1,E.tdocl,E.tdocl),h=Number(s[v-t-1]-h);if(x=h.toString(),e("-",650-42*h.toString().length,t,10*(t+1),E.tdocl,1,E.tdocl,E.tdocl),(x=LIM.creardom("div",f,"","",650-42*h.toString().length,5+42*(t+1)+2)).style.width=42*h.toString().length+70+"px",x.style.height="2px",x.style.backgroundColor="#000000",x.style.position="absolute",pasar=h.toString(),0<l)for(lonc=l,-1==pasar.indexOf(".")?(pasar+=".",lonc=0):lonc=pasar.length-(pasar.indexOf(".")+1),t0=lonc;t0<l;t0++)pasar+="0";e(pasar,d+42*l,t+1,b,1,1,1,1)}if(1==E.modo){for(trr=0;trr<12;trr++)switch(mover=LIM.creardom("div",f,trr+"cadr","tecla",40*trr+20,380),trr){case 10:mover.innerHTML=y;break;case 11:mover.innerHTML="-";break;default:mover.innerHTML=trr}for(trr=0;trr<12;trr++){switch(mover=LIM.creardom("div",f,trr+"cadrm","tecla teclam",40*trr+20,380),trr){case 10:mover.innerHTML=y;break;case 11:mover.innerHTML="-";break;default:mover.innerHTML=trr}LIM.drag(mover,p,a)}}}}function ordenar(g){var x={texto:"",imaxe:"",imaxeAltText:""};x=LIM.qhtml(g.donde,x),this.crear=function(){function e(e,t,r){var i=parseInt(e.id);if(e.style.visibility="hidden",t=document.elementFromPoint(t,r),e.style.visibility="visible",t.getClientRects(),e.style.position="absolute",c[i]=null,-1<t.className.indexOf("clordena-dest")){var n=parseInt(t.id);for(p[i]=t,i=(c[i]=e).innerHTML,t.style.width=e.offsetWidth+"px",e.style.left=u.offsetLeft+t.offsetLeft+"px",e.style.top=u.offsetTop-t.offsetTop+"px",e=0;e<o;e++)null!=c[e]&&(c[e].style.left=u.offsetLeft+p[e].offsetLeft+"px",c[e].style.top=u.offsetTop-f.offsetTop+p[e].offsetTop-1+"px");l[n]=a[n]==i?1:0}else l[n]=0}g.properties.minheight="430",g=LIM.prc(x,g);var t=Number(g.properties.modo||"0"),i=Number(g.properties.forma||"0"),r=g.properties.texto||"",a=0<r.indexOf("|")?r.split("|"):'"'==r.charAt(0)?r.slice(1,-1).split(" "):r.split(""),o=a.length,n=LIM.crearbase(g),s=LIM.paxina(),l=Array(o),c=Array(o),p=Array(o),d=0,m="";null==g.donde&&LIM.comunes(n,g.txcabe,g.txpe,g.properties.ison,g.properties.autoson,g.properties.txliga,g.properties.paxliga),LIM.addEventSimple(LIM.esactividad(n,!0),"click",function(){var e=!0;if(0==i)for(var t=u.querySelectorAll(".clordena-dw"),r=0;r<t.length;r++)t[r].value.trim()!=a[r]?e=!1:(t[r].disabled=!0,t[r].className="clordena-dw clordena-dwfx");else 1==i&&-1<l.toString().indexOf(0)&&(e=!1);0==e?LIM.poneravaliacion(n,g.properties.mensamal,!1,g.properties.ffinal,g.num):LIM.poneravaliacion(n,g.properties.mensaben,!0,g.properties.ffinal,g.num)}),r=LIM.desordena(o),d=LIM.creardom("div",n,"","clordena-im");var u=LIM.creardom("div",n,"","clordena-base"),f=LIM.creardom("div",n,"","clordena-cadro");null!=g.properties.imaxe&&(LIM.crearimaxe({pai:d,alttext:g.properties.alttext}).src=g.properties.imaxe),1==t&&(u.style.top="10px");var h="clordena-dest";if(2==t&&(h="clordena-dest clordena-v"),1==i){for(d=0;d<o;d++){l[d]="0";var v=LIM.creardom("span",u,d+"cdest"+s,h);p[d]=""}for(d=t=0;d<o;d++)m=(t=r[d])+"etq"+s,v=LIM.creardom("div",f,m,"clordena-etq"),c[d]=null,v.innerHTML=a[t],LIM.drag(v,n,e),l[t]=" "!=a[t]?0:1}else if(2==i){for(s="",d=0;d<o;d++)s+="<input class='cltxts-in'  ></input>";for(u.innerHTML=s,c=u.querySelectorAll(".cltxts-in"),m=0;m<o;m++)1==i&&(v.style.display="block"),c[m].addEventListener("keypress",function(e){this.style.width=0,e=this.scrollWidth+14,this.scrollWidth>=this.clientWidth&&(e+=10),""!=this.value&&(this.style.width=e+"px")});t=0}else{for(s="",d='<option value="">?</option>',m=0;m<o;m++)d+='<option value="'+a[r[m]]+'">'+a[r[m]]+"</option>";if(2==t)for(m=0;m<o;m++)s="<select class='clordena-dw'>"+d+"</select>",l[m]="0",(v=LIM.creardom("span",u,"",h)).style.opacity="1",v.innerHTML=s;else{for(m=0;m<o;m++)s+="<select class='clordena-dw'>"+d+"</select>",l[m]="0";u.innerHTML=s}}}}function ordenarimx(v){var g={};g=LIM.qhtml(v.donde,g),this.crear=function(){function e(e,t,r){d++,e.style.zIndex=d;for(var i=parseInt(e.id),n=0;n<a;n++){if(LIM.ratosobre(e,c[n],t,r,!0)){l[i]=i==n?1:0;break}l[i]=0}}v.properties.minheight="430",g=LIM.prc(g,v);for(var t=v.properties.modo||"0",r=[],i=[],n=[],a=v.properties.imaxes.length,o=0;o<a;o++)r=v.properties.imaxes[o].split("||"),i[o]=r[0],n[o]=r[3]||"";var s=LIM.crearbase(v);r=LIM.paxina();var l=Array(a),c=Array(a);o=0;var p="",d=1100;null==v.donde&&LIM.comunes(s,v.txcabe,v.txpe,v.properties.ison,v.properties.autoson,v.properties.txliga,v.properties.paxliga),"1"!=t&&LIM.addEventSimple(LIM.esactividad(s,!0),"click",function(){-1<l.toString().indexOf(0)?LIM.poneravaliacion(s,v.properties.mensamal,!1,v.properties.ffinal,v.num):LIM.poneravaliacion(s,v.properties.mensaben,!0,v.properties.ffinal,v.num)}),p="",t=LIM.desordena(a);var m=0,u=LIM.creardom("div",s,"","clordimx-base"),f=LIM.creardom("div",s,"","clordimx-base");for(o=0;o<a;o++){p=(m=t[o])+"etq"+r;var h=LIM.creardom("div",u,p,"clordimx-dest",10+190*o,14);c[o]=h,p+="f",h=LIM.creardom("div",f,p,"clordimx-im",10+190*o,220),(p=LIM.crearimaxe({pai:h,name:m+"imx"+r,cssclass:"",posx:1,posy:1,alttext:n})).style.visibility="hidden",LIM.cargaimaxe(p,i[m],176,176,"",!0,!0),LIM.drag(h,s,e),l[m]=0}}}function paneldeb(g){var x={etiquetas:[],imaxeAltText:[],imaxe:""};x=LIM.qhtml(g.donde,x),this.crear=function(){function t(e,t,r,i,n){this.x=t||0,this.y=r||0,this.w=i||1,this.h=n||1,this.rw=i||1,this.rh=n||1,this.imax=e||""}function e(e,t){if(e.width=parseInt(getComputedStyle(e).width)||e.clientWidth||800,e.height=parseInt(getComputedStyle(e).height)||e.clientHeight||500,this.canvas=e,this.width=e.width,this.height=e.height,this.ctx=e.getContext("2d"),""!=t){var r=this,i=new Image;i.onload=function(){r.imfon=i,r.fondo()},i.src=t}else this.imfon=null;document.defaultView&&document.defaultView.getComputedStyle&&(this.stylePaddingLeft=parseInt(document.defaultView.getComputedStyle(e,null).paddingLeft,10)||0,this.stylePaddingTop=parseInt(document.defaultView.getComputedStyle(e,null).paddingTop,10)||0,this.styleBorderLeft=parseInt(document.defaultView.getComputedStyle(e,null).borderLeftWidth,10)||0,this.styleBorderTop=parseInt(document.defaultView.getComputedStyle(e,null).borderTopWidth,10)||0);var n=document.body.parentNode;this.htmlTop=n.offsetTop,this.htmlLeft=n.offsetLeft,this.valid=!1,this.shapes=[],this.dragging=!1,this.selection=null,this.dragoffy=this.dragoffx=0,f=this,e.addEventListener("selectstart",function(e){return e.preventDefault(),!1},!1),e.addEventListener("mousedown",function(e){var t=f.getMouse(e);e=t.x,t=t.y;for(var r=f.shapes,i=r.length-1;0<=i;i--)if(r[i].contains(e,t)){var n=r[i];return r.splice(i,1),r.push(n),n=r[r.length-1],f.dragoffx=e-n.x,f.dragoffy=t-n.y,f.dragging=!0,f.selection=n,f.valid=!1,f.selection=n,f.dragging=!0,void f.draw()}f.selection&&(f.selection=null,f.valid=!1,f.draw())},!0),e.addEventListener("mousemove",function(e){f.dragging&&(e=f.getMouse(e),f.selection.x=e.x-f.dragoffx,f.selection.y=e.y-f.dragoffy,f.valid=!1,f.draw())},!0),e.addEventListener("mouseup",function(e){f.dragging=!1},!0),this.selectionColor="#CC0000",this.selectionWidth=2,this.interval=30,f.selection&&f.selection.draw(f.ctx)}function r(e){if(f.selection){switch(e){case"r":e=f.selection.h,10<f.selection.w&&10<e&&(f.selection.w-=5,f.selection.h-=5);break;case"a":f.selection.w+=5,f.selection.h+=5;break;case"d":for(e=f.shapes.length-1;0<=e;e--)f.selection==f.shapes[e]&&f.shapes.splice(e,1);f.selection=null}f.valid=!1,f.draw()}}function i(e,t,r,i,n){var a=document.createElement("button");a.setAttribute("class",t),a.setAttribute("title",i),a.innerHTML=r,LIM.addEventSimple(a,"click",n),e.appendChild(a)}g.properties.minheight="460",g=LIM.prc(x,g);var n=LIM.crearbase(g);LIM.paxina();var a=null;a=g.properties.etiquetas;var o,s,l,c,p,d,m=g.properties.imaxeAltText,u=g.properties.imaxe||"",f=null;t.prototype.draw=function(e){e.drawImage(this.imax,this.x,this.y,this.w,this.h)},t.prototype.contains=function(e,t){return this.x<=e&&this.x+this.w>=e&&this.y<=t&&this.y+this.h>=t},e.prototype.addShape=function(e){this.shapes.push(e),this.valid=!1,e.draw(this.ctx)},e.prototype.clear=function(){this.ctx.clearRect(0,0,this.width,this.height)},e.prototype.toimx=function(){return this.canvas.toDataURL("image/png")},e.prototype.fondo=function(e){this.imfon&&this.ctx.drawImage(this.imfon,0,0)},e.prototype.draw=function(){if(this.clear(),this.fondo(),!this.valid){for(var e=this.ctx,t=this.shapes,r=t.length,i=0;i<r;i++){var n=t[i];n.x>this.width||n.y>this.height||n.x+n.w<0||n.y+n.h<0||t[i].draw(e)}null!=this.selection&&(this.selection.draw(e),e.strokeStyle=this.selectionColor,e.lineWidth=this.selectionWidth,e.setLineDash([5,4]),t=this.selection,e.strokeRect(t.x,t.y,t.w,t.h)),this.valid=!0}},e.prototype.getMouse=function(e){var t=this.canvas,r=0,i=0;if(void 0!==t.offsetParent)for(;r+=t.offsetLeft,i+=t.offsetTop,t=t.offsetParent;);return r+=this.stylePaddingLeft+this.styleBorderLeft+this.htmlLeft,i+=this.stylePaddingTop+this.styleBorderTop+this.htmlTop,{x:e.pageX-r,y:e.pageY-i}};for(var h=LIM.creardom("div",n,"","clpan_colimx"),v=0;v<a.length;v++)o=h,s="clpan_cadro",l=a[v],c=m[v],p=function(){var e=this.childNodes[0];f.addShape(new t(e,40,40,e.naturalWidth,e.naturalHeight))},d=void 0,(d=document.createElement("div")).setAttribute("class",s),(s=document.createElement("img")).setAttribute("class","clpan_imx"),s.setAttribute("title",c||LIM.td("Imagen")),s.setAttribute("src",l),d.appendChild(s),LIM.addEventSimple(d,"click",p),o.appendChild(d);n=LIM.creardom("div",n,"","clpan_col2"),a=LIM.creardom("canvas",n,"","clpan_canvas"),i(h=LIM.creardom("div",n,"","clpan_botonera"),"clpan_boton","-",LIM.td("Botón para reducir"),function(){r("r")}),i(h,"clpan_boton","+",LIM.td("Botón para ampliar"),function(){r("a")}),i(h,"clpan_boton","x",LIM.td("Botón para eliminar elemento"),function(){r("d")}),i(h,"clpan_boton","G",LIM.td("Botón para guardar"),function(){f.selection=null,f.valid=!1,f.draw();var e=f.toimx();e.download="paneldeb.png",window.location=e}),new e(a,u)}}function parellas(B){this.crear=function(){function d(){T-=A,--w<0?(clearInterval(I),"none"!=S.parentNode.parentNode.style.display&&LIM.poneravaliacion(S,B.properties.mensamal,!1,B.properties.ffinal,B.num),E=!1):(C.innerHTML=w.toString(),C.style.width=T.toString()+"px")}B.properties.minheight="430";var m="#ADFF2F #00FA9A #FFC0CB #FFA500 #B0E0E6 #FFDEAD #F4A460 #FFD700 #FA8258 #A5DF00 #088A85 #81F79F #81DAF5 #E6E6E6 #F78181".split(" "),e=B.properties.imaxes||[],t=B.properties.etiquetas||[],r=B.properties.textos||[],n=B.properties.sons||[],u=B.properties.modo||"0",i=B.properties.tempo||"50",f=B.properties.cfondo||"",h=B.properties.ctapa||"",a=[],o=e.length;if(0<e.length){for(var s=[],l=[],c=[],p=[],v=0;v<o;v++)s=e[v].split("||"),l[v]=s[0]||"",c[v]=s[1]||"",p[v]=s[2]||"";var g=[],x=[],b=[];if(0<t.length)for(v=0;v<o;v++)s=t[v].split("||"),g[v]=s[0]||"",x[v]=s[1]||"",b[v]=s[2]||"";var L=[],y=[]}if("2"==u&&0==o){for(u="3",o=n.length,p=[],b=[],v=0;v<o/2;v++)p[v]=n[v];for(b=[],v=o/2;v<o;v++)b[v-o/2]=n[v]}var M=[];t=0;var I,N=!1,w=Number(i),E=!0;if("0"==u){for(t=0;t<o;t++)L.push(l[t]),M.push(p[t]),a.push(t),L.push(l[t]),M.push(p[t]),a.push(t);t=L.length}else if("1"==u){for(t=s=0;t<e.length;t++)""==e[t]&&""==r[t]||s++;for(t=0;t<o;t++)L[t]=l[t],y[t]=c[t],M[t]=p[t],a[t]=t;for(t=e=0;t<o;t++)L[e=t+o]=g[t],M[e]=b[t],y[e]=x[t],a[e]=t;t=L.length}else if("3"==u){for(s=0,o=n.length/2,t=0;t<o;t++);for(t=0;t<o;t++)M[t]=p[t],a[t]=t;for(t=e=0;t<o;t++)M[e=t+o]=b[t],a[e]=t;t=M.length}var S=LIM.crearbase(B),k=LIM.paxina();LIM.esactividad(S,!1);var C=LIM.creardom("div",S,"","clpar-tem"),T=C.offsetWidth,A=T/w;C.innerHTML=i;var H=Array(t);H.fill(0)||H.join("0").split("").map(parseFloat);var q=1e3,O=null,P=!0,z="par"+k;LIM.desordena(t);function F(e,t,r,i,n,a,o){this.ver=function(){return this.num},a=t+z,(e=document.createElement("div")).className="clpar ",e.id=a,(a=document.createElement("figure")).className="clpar front";var s=document.createElement("figure");s.className="clpar back",e.appendChild(a),e.appendChild(s),S.appendChild(e);var l=parseInt(s.offsetWidth)-8||142,c=parseInt(s.offsetheight)-12||188;""!=f&&(a.style.backgroundColor="#"+f),self=this;var p=LIM.crearimaxe({pai:s,name:t+"imxf"+r,cssclass:"clpar-im",posx:1,posy:1,alttext:""});return p.style.visibility="hidden","3"!=u&&LIM.cargaimaxe(p,i,l,c,"",!0,!0),H[t]=0,(""!=i?LIM.creardom("div",s,t+"txt"+r,"clpar-texto"):LIM.creardom("div",s,t+"txt"+r,"clpar-txtg")).innerHTML=n,e.num=o,a.innerHTML="?",""!=h&&(a.style.backgroundColor="#"+h),a.style.cursor="pointer",void 0!==B.properties.fcolor&&(e.style.backgroundColor="#"+B.properties.fcolor),LIM.addEventSimple(e,"click",function(){N||(N=!0,I=setInterval(d,1e3));var e=parseInt(this.id);M[e]&&LIM.sonar(M[e]),P&&"clpar flipped"!=this.className&&(this.className="clpar flipped",function(e){var t=parseInt(e.id),r=O?parseInt(O.id):1e4;if(q<1e3){if(e.num==O.num)e.childNodes[1].style.backgroundColor=m[e.num],O.childNodes[1].style.backgroundColor=m[e.num],H[t]=1,-(H[r]=1)==H.toString().indexOf(0)&&(clearInterval(I),E&&LIM.poneravaliacion(S,B.properties.mensaben,!0,B.properties.ffinal,B.num));else{P=!1;var i=O;setTimeout(function(){e.classList.toggle("flipped"),i.classList.toggle("flipped"),P=!0},500)}O=null,q=1e3}else q=t,O=e}(this))}),e}!function(e){for(var t,r=LIM.desordena(e),i=0;i<e;i++)t=r[i],void 0===n[t]&&(n[t]=""),3==u?new F(S,t,k,"","",n[t],a[t]):1==u?new F(S,t,k,L[t],y[t],n[t],a[t]):new F(S,t,k,L[t],"","",a[t]),0}(t)}}function piramide(d){var m={texto:"",palabras:"",letras:""};this.crear=function(){d.properties.minheight="430";var e=(d=LIM.prc(m,d)).properties.palabras||[""],t=d.properties.texto||"",r=e.length,i=LIM.crearbase(d),n=LIM.paxina(),a=[];null==d.donde&&LIM.comunes(i,d.txcabe,d.txpe,d.properties.ison,d.properties.autoson,d.properties.txliga,d.properties.paxliga),LIM.addEventSimple(LIM.esactividad(i,!0),"click",function(){for(var e="",t=0;t<a.length;t++)e+=a[t].value;e=e.toLowerCase(),p==e?LIM.poneravaliacion(i,d.properties.mensaben,!0,d.properties.ffinal,d.num):LIM.poneravaliacion(i,d.properties.mensamal,!1,d.properties.ffinal,d.num)});var o=document.createElement("div");if(o.setAttribute("class","clpi-col1"),i.appendChild(o),""!=t){var s=LIM.creardom("div",i,"","clpi-txt");s.innerHTML=t}for(var l=s=0;l<r;l++){(t=document.createElement("div")).setAttribute("class","clpi-let clpi-nu"),t.innerHTML=l+1,o.appendChild(t);for(var c=0;c<e[l].length;c++)(t=document.createElement("INPUT")).setAttribute("type","text"),t.setAttribute("maxlength","1"),t.setAttribute("class","clpi-let"),t.setAttribute("id",s+"pir"+n),o.appendChild(t),a[s]=t,s++;(t=document.createElement("div")).setAttribute("class","clpi-se"),o.appendChild(t)}for(c=0;c<a.length;c++)a[c].addEventListener("keyup",function(e){if(this.value.length==this.maxLength){var t=parseInt(this.id);t=8==e.keyCode?t-1:t+1,8!=e.keyCode&&a[t]&&a[t].focus()}},!1);var p=e.join("").toLowerCase()}}function plantilla(c){this.crear=function(){c.properties.minheight="430";var e=c.properties.resp||"",t=c.properties.boton||"",r=LIM.crearbase(c),i=LIM.paxina(),n=r.getElementsByTagName("font");if(n&&LIM.cambiafont(n),""!=t)var a=(t=t.split("||"))[0],o=t[1]||"";var s=LIM.creardom("div",r,"","clplan");if(o&&LIM.crearlink({pai:s,url:"javascript:LIM.salto('"+o+"')",text:a,cssclass:"clplan-bt",alttext:a}),e){var l;l=e.toLowerCase().split("|"),h=l.length,ctx=LIM.crearinput({pai:s,name:"input"+i,cssclass:"clplan-in",pholder:c.properties.pholder}),LIM.addEventSimple(LIM.esactividad(s,!0),"click",function(){for(var e=!1,t=ctx.value.toLowerCase(),r=0;r<h;r++)t==l[r]&&(e=!0);e?LIM.poneravaliacion(s,c.properties.mensaben,!0,c.properties.ffinal,c.num):LIM.poneravaliacion(s,c.properties.mensamal,!1,c.properties.ffinal,c.num)}),ctx.focus()}}}function preguntas(d){var m={media:"",preguntas:[],respuestas:[],altimaxe:"",color:""};m=LIM.qhtml(d.donde,m),d.properties.minheight="430",this.crear=function(){var e=(d=LIM.prc(m,d)).properties.imaxe||"",t=d.properties.preguntas.length,r=LIM.crearbase(d),i=LIM.paxina();null==d.donde&&LIM.comunes(r,d.properties.txcabe,d.properties.txpe,d.properties.ison,d.properties.autoson,d.properties.txliga,d.properties.paxliga),LIM.addEventSimple(LIM.esactividad(r,!0),"click",function(){for(var e,t=0;t<n.length;t++)for(e=o[t]=0;e<a[t].length;)LIM.sspc(n[t].value.toLowerCase())==a[t][e]?(n[t].style.backgroundColor="#98FB98",o[t]=1,e=50):n[t].style.backgroundColor="#FFFFFF",e++;-1==o.toString().indexOf("0")?LIM.poneravaliacion(r,d.properties.mensaben,!0,d.properties.ffinal,d.num):LIM.poneravaliacion(r,d.properties.mensamal,!1,d.properties.ffinal,d.num)});var n=Array(t),a=Array(t),o=Array(t);LIM.desordena(t);var s="etq"+i;if(""!=e){var l=LIM.creardom("div",r,"cmed"+i,"clpreg-media",-1,-1),c=LIM.creardom("div",l,"","clpreg-bmed",-1,-1),p=LIM.tcontido(e);"s"==p?c=LIM.crearswf(c,"coswf"+i,e,"",0,0,360,300,""):"v"==p?(p="",(c=LIM.crearvid(c,"covid"+i,e,"",0,0,360,300,"")).style.border="solid 1px #cccccc"):"i"==p?(p=(p="")!=d.properties.altimaxe?"<img src='"+e+"' class='cladx-im' title='"+d.properties.altimaxe+"'>":"<img src='"+e+"' class='cladx-im' >",l.innerHTML=p):(c.style.width="380px",c.innerHTML=d.properties.media)}for(c="",e=LIM.creardom("div",r,"","clpreg-base",-1,-1),i=0;i<t;i++)l=i+s,(c=LIM.creardom("div",e,l,"clpreg-cadro",-1,-1)).innerHTML=d.properties.preguntas[i],l=LIM.crearinput({pai:c,name:l+s+"m",cssclass:"clpreg-input",posx:5,posy:60,dimw:"100%",dimh:25,pholder:d.properties.pholder}),n[i]=l,a[i]=[],c=LIM.sspc(d.properties.resp[i].toLowerCase()),a[i]=c.split("|"),o[i]=0}}function puzzle(T){var t={imaxefondo:"",transfondo:100,imaxe:"",altimaxe:"",filas:"",columnas:""},A=1100;this.crear=function(){T.properties.minheight="430";var x=(T=LIM.prc(t,T)).properties.columnas||2,b=T.properties.filas||2,L=T.properties.imaxe||"",y=T.properties.imfondo||"",M=b*x,I=LIM.crearbase(T),N=LIM.paxina(),w=Array(M),E=Array(M),S=Array(M),k=Array(M),C=Array(M);if(null==T.donde&&LIM.comunes(I,T.txcabe,T.txpe,T.properties.ison,T.properties.autoson,T.properties.txliga,T.properties.paxliga),LIM.esactividad(I,!1),""!=L){var e=new Image;LIM.cargaimaxe(e,T.properties.imaxe,0,0,function(r,e,t){function i(){for(var e=0;e<M;e++){var t=C[e];t.style.left=r+"px",t.style.top="0px",p[e]==e&&(w[e]=1)}return!0}function n(e,t,r){A++,e.style.zIndex=A;for(var i=parseInt(e.id),n=0;n<M;n++){if(LIM.ratosobre(e,k[n],t,r,!0)){i==n?-(w[i]=1)==w.toString().indexOf(0)&&(A++,(e=LIM.crearimaxe({pai:I,name:"imxfondo"+N,cssclass:"",posx:10,posy:0,alttext:T.properties.alttext})).style.border="solid 2px #8A0829",e.src=L,e.style.zIndex=A,LIM.poneravaliacion(I,T.properties.mensaben,!0,T.properties.ffinal,T.num)):w[i]=0;break}w[i]=0}return!0}if(I.style.minHeight=e+30,t){t=r/x,e/=b;var a=-1,o="etq"+N,s="dst"+N,l="",c="",p=LIM.desordena(M),d=0,m=0,u=0,f=1;1==T.properties.forma&&(f=50),""!=y&&((c=LIM.crearimaxe({pai:I,name:"imxfondo"+N,cssclass:"",posx:10,posy:0,alttext:T.properties.alttext})).border="1",c.src=y);for(var h=0;h<b;h++){for(var v=m=0;v<x;v++){d=p[++a],l=a+o,c=0-m+"px "+(0-u)+"px";var g=LIM.creardom("div",I,a+s,"",m+10,u);g.style.width=t+"px",g.style.height=e+"px",g.style.border="1px solid blue",g.style.position="absolute",g.style.zIndex=800+a,LIM.borde(g,f),g.style.backgroundColor="white",g.style.opacity=(100-T.properties.trans)/100,g.style.filter="alpha(opacity="+T.properties.trans+")",(l=LIM.creardom("div",I,l,"",m+10,u)).style.width=t+"px",l.style.height=e+"px",l.style.position="absolute",l.style.border="1px solid #333333",l.style.backgroundImage="url('"+L+"')",l.style.backgroundPosition=c,A++,l.style.zIndex=1100+d,LIM.drag(l,I,n),w[a]=0,k[a]=g,C[a]=l,E[a]=m+10+"px",S[a]=u+"px",m+=t,LIM.borde(l,f),"3"==T.properties.modo&&(l.style.font="14px Arial",l.style.textAlign="center",l.style.color="#00ff00",l.style.textShadow=" 1px 1px 0 #000000",l.innerHTML="   "+(a+1))}u+=e}"4"==T.properties.modo?setTimeout(i,2e3):"5"==T.properties.modo?function(){for(var e=0;e<M;e++){var t=C[e];t.style.left="670px",t.style.top="200px"}}():i()}},!1,!1)}}}function raiosx(b){var L={imaxe:"",imfondo:"",resposta:"",texto:"",imaxeAltText:[],posx:"",posy:"",tam:"",mensaben:"",mensamal:""};L=LIM.qhtml(b.donde,L),this.crear=function(){b.properties.minheight="430";var t=(b=LIM.prc(L,b)).properties.imfondo||"",e=Number(b.properties.rdim||"60");if(""!=t){function r(e,t,r,i){function n(e){e.offsetX?(u=e.offsetX,curY=e.offsetY):e.layerX&&(u=e.layerX,curY=e.layerY),a(u,curY)}function a(e,t){c.globalCompositeOperation="source-over",c.clearRect(0,0,d,d),v?c.drawImage(x,0,0,d,m):(c.beginPath(),c.fillStyle="#333388",c.fillRect(0,0,d,d),c.fill(),c.stroke()),c.globalCompositeOperation="xor",c.strokeStyle="#000000",c.fillStyle="#ffffff",c.lineWidth=2,c.beginPath(),c.arc(e,t,p,0,2*Math.PI,!1),c.fill(),c.stroke(),c.strokeStyle="#FF000000",c.lineWidth=5,c.beginPath(),c.arc(e,t,p,0,2*Math.PI,!1),c.stroke()}var o=document.createElement("canvas");b.properties.imaxeAltText[0]&&o.setAttribute("title",b.properties.imaxeAltText[0]),o.width=d,o.height=m,o.className="clrx-b",e.appendChild(o),c=o.getContext("2d");var s=LIM.relposX(o),l=LIM.relposY(o)+80;a(f,h),o.style.backgroundImage="url('"+t+"')",o.style.backgroundRepeat="no-repeat",o.style.backgroundAttachament="fixed",o.style.backgroundPosition=r+"px "+i+"px",o.style.cursor="pointer",o.addEventListener("mouseup",function(e){o.removeEventListener("mousemove",n)}),o.addEventListener("mousedown",function(e){o.addEventListener("mousemove",n)}),o.addEventListener("touchmove",function(e){var t=event.targetTouches[0];a(t.pageX-s,t.pageY-l),e.preventDefault()})}var i=LIM.crearbase(b),n=LIM.paxina();null==b.donde&&LIM.comunes(i,b.txcabe,b.txpe,b.properties.ison,b.properties.autoson,b.properties.txliga,b.properties.paxliga),n="rx"+n;var c,p=e,d=650,m=426,u=0,f=p,h=p,v=!1;if(""!=b.properties.imaxe&&(v=!0),b.properties.texto){e=LIM.creardom("div",i,n+"ptx","clrx-pan");var a=document.createElement("a");e.appendChild(a);var o=LIM.creardom("div",a,n+"tx","clrx-text");o.innerHTML=b.properties.texto,LIM.crearlink({pai:e,url:"javascript:;",name:n+"bt",cssclass:"clrx-bt",alttext:LIM.td("Texto")}).onclick=function(){var e=this.parentNode;e.offsetHeight<15?(e.style.height="360px",o.style.visibility="visible"):(e.style.height="0px",o.style.visibility="hidden")}}if(b.properties.resp){b.properties.resp=b.properties.resp.toLowerCase();var s=b.properties.resp.split("|"),l=s.length;LIM.addEventSimple(LIM.esactividad(i,!0),"click",function(){for(var e=!1,t=g.value.toLowerCase(),r=0;r<l;r++)t==s[r]&&(e=!0);return e?(c.clearRect(0,0,d,m),c.globalAlpha=.2,c.drawImage(x,0,0,d,m),LIM.poneravaliacion(i,b.properties.mensaben,!0,b.properties.ffinal,b.num)):LIM.poneravaliacion(i,b.properties.mensamal,!1,b.properties.ffinal,b.num),!0});var g=LIM.crearinput({pai:i,cssclass:"clinput clrx-in",name:n+"in",pholder:b.properties.pholder})}if(v){var x=new Image;x.src=b.properties.imaxe,x.onload=function(){d=x.width,m=x.height;var e=LIM.reduce(x.width,x.height,800,450);d=e.W,m=e.H,r(i,t,b.properties.posx,b.properties.posy)}}else r(i,t,b.properties.posx,b.properties.posy)}}}function relacionar(f){this.crear=function(){function e(e,t){var r="";if(""!=t)for(var i=t.split(","),n=0;n<i.length;n++)r+=e+"a"+i[n]+"|";return r}f.properties.minheight="430";var t=f.properties.palabras||[],r=f.properties.etiquetas||[],i=t.length,n=r.length,o=LIM.crearbase(f),h=LIM.paxina();null==f.donde&&LIM.comunes(o,f.txcabe,f.txpe,f.properties.ison,f.properties.autoson,f.properties.txliga,f.properties.paxliga),LIM.addEventSimple(LIM.esactividad(o,!0),"click",function(){var e=!1,t=v.childNodes.length;if(t==m){for(var r,i=p,n=0;n<t;n++)r=v.childNodes[n].id.split("l")[0]+"|",i.replace(r,""),-1<i.indexOf(r)&&(i=i.split(r).join(""));""==i&&(e=!0)}e?LIM.poneravaliacion(o,f.properties.mensaben,!0,f.properties.ffinal,f.num):LIM.poneravaliacion(o,f.properties.mensamal,!1,f.properties.ffinal,f.num)});var s=[],l=[],c=[],v=LIM.creardom("div",o,"","clrela-b");for(a=0;a<i;a++)s=t[a].split("||"),l[a]=s[0],c[a]=s[1];var p="",g="#ADFF2F #00FA9A #FFC0CB #FFA500 #B0E0E6 #FFDEAD #F4A460 #FFD700 #FA8258 #A5DF00 #088A85 #81F79F #81DAF5 #E6E6E6 #F78181".split(" ");for(a=0;a<i;a++)p+=e(a+1,c[a]);var d,m=p.split("|").length-1;for(t="rela"+h,LIM.desordena(i),s="",a=0;a<i;a++){s=(a+1).toString()+t,etiq=LIM.creardom("button",o,s,"clrela-etq",20,83*a+20),etiq.innerHTML=l[a],etiq.style.backgroundColor=g[a];var x=etiq;LIM.addEventSimple(etiq,"click",function(){var e=(x=this).offsetHeight/2-u.offsetHeight/2+this.offsetTop;u.style.left=(this.offsetWidth+this.offsetLeft).toString()+"px",u.style.top=e.toString()+"px"}),0==a&&(d=etiq)}for(t="relb"+h,a=0;a<n;a++)s=(a+1).toString()+t,etiq=LIM.creardom("button",o,s,"clrela-etq",470,83*a+20),etiq.innerHTML=r[a],LIM.addEventSimple(etiq,"click",function(){if(x){var e=parseInt(x.id),t=parseInt(this.id),r=x.offsetLeft+x.offsetWidth-16,i=x.offsetTop+x.offsetHeight/2-15,n=this.offsetLeft+2,a=this.offsetTop+this.offsetHeight/2-16;t=e.toString()+"a"+t.toString()+"line"+h.toString();var o=document.getElementById(t);o?o.parentNode.removeChild(o):(s=v,l=t,c=r,p=i,d=n,m=a,u=g[e-1],f=Math.sqrt((c-d)*(c-d)+(p-m)*(p-m)),d="rotate("+180*Math.atan2(m-p,d-c)/Math.PI+"deg)",(m=document.createElement("div")).className="clrela-lina",m.id=l,m.style.position="absolute",m.style.transformOrigin=" left top",m.style.transform=d,m.style.width=f.toString()+"px",m.style.left=c.toString()+"px",m.style.top=p.toString()+"px",m.style.backgroundColor=u,s.appendChild(m),LIM.addEventSimple(m,"click",function(){this.parentNode.removeChild(this)}))}var s,l,c,p,d,m,u,f});var u=LIM.creardom("div",o,"","clrela-pnt");d.click()}}function reloxo(N){var w={};this.crear=function(){function e(){11<(f+=1)&&(f=0),LIM.xira(L,30*f)}function t(){--f<0&&(f+=12),LIM.xira(L,30*f)}function r(){59<(h+=1)&&(h=0,e()),LIM.xira(y,6*h),LIM.xira(L,30*f+h/2)}function i(){--h<0&&(h=59,t()),LIM.xira(y,6*h),LIM.xira(L,30*f+h/2)}N.properties.minheight="430",w=LIM.prc(w,N);var n,a=N.properties.modo||"1",o=N.properties.forma||"1",s=N.properties.texto||"",l=N.properties.imaxe||"",c=N.properties.altimaxe||"",p=N.properties.hora||"",d=(N.properties.reloxo||"").split("|"),m=LIM.crearbase(N),u=LIM.paxina(),f=0,h=0;null==N.donde&&LIM.comunes(m,N.txcabe,N.txpe,N.properties.ison,N.properties.autoson,N.properties.txliga,N.properties.paxliga),"2"!=a?LIM.addEventSimple(LIM.esactividad(m,!0),"click",function(){if("0"==N.properties.modo){for(var e=!1,t=LIM.sspc(b.value).toUpperCase(),r=0;r<d.length;r++)if(t==LIM.sspc(d[r]).toUpperCase()){e=!0;break}}else"1"==a?(e=!0,f!=I&&f!=I-12&&(e=!1),h!=M&&(e=!1)):"4"==a&&(e=!0,t=b.value.split(":"),M=Number(t[1]),I=Number(t[0]),f!=I&&f!=I-12&&(e=!1),h!=M&&(e=!1));e?LIM.poneravaliacion(m,N.properties.mensaben,!0,N.properties.ffinal,N.num):LIM.poneravaliacion(m,N.properties.mensamal,!1,N.properties.ffinal,N.num)}):LIM.esactividad("",!1);var v=LIM.creardom("div",m,"crel"+u,"clrelo",20,10);if(""!=l)o=LIM.crearimaxe({pai:v,name:"imx"+u,cssclass:"",posx:0,posy:0,alttext:c}),LIM.cargaimaxe(o,l,360,360,"",!0,!0),""!=c&&(o.title=c);else{(l=LIM.creardom("canvas",v,"","clrelo-cv")).width=390,l.height=390;var g=l.getContext("2d"),x=180;g.translate(1.1*x,x),x*=.9,function(e){var t=g,r=x;t.beginPath(),t.arc(0,0,r,0,2*Math.PI),t.fillStyle="white",t.fill(),t.lineWidth=.04*r,t.stroke(),t.beginPath(),t.arc(0,0,.1*r,0,2*Math.PI),t.fillStyle="#333",t.fill(),function(i){function e(e,t,r){for(i.strokeStyle="black",i.lineWidth=r,r=0;r<e;r++)i.save(),i.beginPath(),i.translate(0,0),i.rotate(360*r/e*Math.PI/180),i.translate(0,-155),i.moveTo(0,0),i.lineTo(0,t),i.stroke(),i.closePath(),i.restore()}e(60,8,2),e(12,14,4)}(g),t=g,r=x;var i=[];switch(e){case 4:i="0 I II III IIII V VI VII VIII IX X XI XII".split(" ");break;case 3:i="0 1 2 3 4 5 6 7 8 9 10 11 12".split(" ");break;case 1:i=["0","3","6","9","12"];break;case 2:i=["0","III","VI","IX","XII"]}var n,a=i.length;for(t.fillStyle="#333",t.font=.15*r+"px arial",t.textBaseline="middle",t.textAlign="center",n=1;n<a;n++)e=n*Math.PI/((a-1)/2),t.rotate(e),t.translate(0,.75*-r),t.rotate(-e),t.fillText(i[n],0,0),t.rotate(e),t.translate(0,.75*r),t.rotate(-e)}(Number(o))}o=LIM.creardom("div",m,"","clcol1"),""!=N.properties.texto&&(LIM.creardom("div",o,"reltxt"+u,"clrelo-txt").innerHTML=s);var b=LIM.crearinput({pai:o,name:"relin"+u,cssclass:"clrelo-in",pholder:w.pholder}),L=LIM.creardom("div",v,"ah"+u,"clrelo-a hr"),y=LIM.creardom("div",v,"am"+u,"clrelo-a mr");s=[],s=p.split(":");var M=Number(s[1]),I=Number(s[0]);"1"==N.properties.modo||"4"==N.properties.modo?(p=LIM.creardom("div",v,"crelhh"+u,"clrelo-bt",30,360),LIM.addEventSimple(p,"mousedown",function(){e(),n=setInterval(e,400)}),p.innerHTML=LIM.td("H")+"+",p=LIM.creardom("div",v,"crelh"+u,"clrelo-bt",100,360),LIM.addEventSimple(p,"mousedown",function(){t(),n=setInterval(t,400)}),p.innerHTML=LIM.td("H")+"-",p=LIM.creardom("div",v,"crelmm"+u,"clrelo-bt",200,360),LIM.addEventSimple(p,"mousedown",function(){r(),n=setInterval(r,300)}),p.innerHTML=LIM.td("M")+"+",p=LIM.creardom("div",v,"crelm"+u,"clrelo-bt",270,360),LIM.addEventSimple(p,"mousedown",function(){i(),n=setInterval(i,300)}),LIM.addEventSimple(m,"mouseup",function(){clearInterval(n)}),p.innerHTML=LIM.td("M")+"-","1"==a?(b.readOnly="readonly",b.value=d):(v=(u=new Date).getHours(),h=u.getMinutes(),LIM.xira(y,6*h),f=v,LIM.xira(L,30*f+h/2))):"0"==a&&""!=p&&(f=I,h=M,LIM.xira(y,6*h),LIM.xira(L,30*f+h/2))}}function secreta(E){var S={texto:"",imaxe:"",altimaxe:"",palabras:"",letras:""};this.crear=function(){function e(e){if(L){parseInt(this.id);var t=this.innerHTML.toLowerCase();if(-1==this.className.indexOf("clsecre-tci")){var r=!1;for(this.className="clsecre-tcl clsecre-tci",e=0;e<m;e++)c[e]==t&&(N=LIM.lcambia(N,e,d[e]),w--,r=!0);r?(M.innerHTML=N,0==w&&("1"==i&&(I.style.display="block"),LIM.poneravaliacion(u,E.properties.mensaben,!0,E.properties.ffinal,E.num),L=!1)):(h[5- --s].parentNode.removeChild(h[5-s]),0==s&&(L=!1,LIM.poneravaliacion(u,E.properties.mensamal,!1,E.properties.ffinal,E.num),M.innerHTML=d))}}}E.properties.minheight="430";var i=(E=LIM.prc(S,E)).properties.modo||"0",t=E.properties.forma||"0",r=E.properties.imaxe||"",n=E.properties.texto||"",a=E.properties.palabras||"",o=E.properties.imaxeAltText||"",s=6,l=E.properties.letras||LIM.letrascomun(),c=[];a=a.split("|");var p=LIM.desordena(a.length),d=a=LIM.ttrim(a[p[0]]);a=a.toLowerCase(),"1"!=t&&(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=a.replace("á","a")).replace("à","a")).replace("â","a")).replace("é","e")).replace("è","e")).replace("ê","e")).replace("í","i")).replace("ì","i")).replace("î","i")).replace("ó","o")).replace("ò","o")).replace("ô","o")).replace("ú","u")).replace("ù","u")).replace("û","u")).replace("ü","u")),c=a.split(""),t=[],l=(t=l.split("")).length;var m=c.length,u=LIM.crearbase(E);p=LIM.paxina();var f=Array(m),h=Array(s),v=0,g="tecla"+p,x="",b=0,L=!0;LIM.esactividad(u,!1);var y=160;if(""!=r){y=310;var M=LIM.creardom("div",u,x,"",20,5);M.style.position="absolute";var I=LIM.crearimaxe({pai:u,name:"imxsecreta"+p,cssclass:"",posx:0,posy:0,alttext:o});LIM.cargaimaxe(I,r,260,260,"",!0,!0),"1"==i&&(I.style.display="none")}for(r=LIM.creardom("div",u,"","clsecre-bpnt"),v=0;v<s;v++)(M=LIM.creardom("div",r,"","clsecre-pnt")).innerHTML=6-v,h[v]=M;for(r=LIM.creardom("div",u,"","clsecre-btcl"),v=0;v<l;v++)x=v+g,(M=LIM.creardom("div",r,"","clsecre-tcl")).innerHTML=t[v],t[v]=t[v].toLowerCase(),f[v]=M,LIM.addEventSimple(M,"click",e),14==++b&&(b=0,0);""!=n&&((f=LIM.creardom("div",u,"cletras"+p,"clsecre-cx",y,0)).style.width="470px",f.style.height="90px",f.innerHTML=n),M=LIM.creardom("div",u,"plb"+p,"clsecre-in"),85<a.length&&(M.style.font="bold 20px Arial",M.style.textAlign="left");var N="",w=0;for(n=0;n<m;n++)" "!=c[n]?","==c[n]?N+=",":"."==c[n]?N+=".":":"==c[n]?N+=":":";"==c[n]?N+=";":(N+="_",w++):N+=" ";M.innerHTML=N}}function seleccionar(g){var x={textos:[],imaxes:[],sons:[],correcta:[],imaxesAltText:[]};this.crear=function(){function e(e){e=parseInt(this.id),LIM.sonar(s[e])}g.properties.minheight="430",selecciona=LIM.prc(x,g);for(var t=g.properties.etiquetas||[],r=[],i=[],n=[],a=[],o=[],s=[],l=t.length,c=0;c<l;c++)r=t[c].split("||"),i[c]=r[0]||"0",n[c]=r[1]||"",a[c]=r[2]||"",o[c]=r[3]||"",s[c]=r[4]||"";var p=LIM.crearbase(g);t=LIM.paxina();var d=Array(l),m=Array(l),u=Array(l);r=c=0;var f=LIM.desordena(l),h=i.toString();for(LIM.addEventSimple(LIM.esactividad(p,!0),"click",function(){for(var e=0;e<l;e++)d[e]=m[e].checked?1:0;if(d.toString()===h)for(LIM.poneravaliacion(p,g.properties.mensaben,!0,g.properties.ffinal,g.num),e=0;e<l;e++)m[e].style.visibility="hidden",0==d[e]&&LIM.transparencia(u[e],20);else LIM.poneravaliacion(p,g.properties.mensamal,!1,g.properties.ffinal,g.num)}),c=0;c<l;c++){netq=f[c],i=LIM.creardom("div",p,"","clselec-cadro",0,0);var v=LIM.crearchk(i,netq+"rep"+t,"clselec");i=LIM.crearlabel(i,netq+"rep"+t,netq+"lrep"+t,"clselec-lab","","",""),d[netq]=0,m[netq]=v,u[netq]=i,""!=a[netq]&&((v=LIM.crearimaxe({pai:i,cssclass:"",posx:1,posy:1,alttext:o[netq]})).style.visibility="hidden",LIM.cargaimaxe(v,a[netq],248,176,"",!0,!0)),""!=g.properties.textos[netq]&&((v=LIM.creardom("div",i,netq+"txt"+t,"clselec-text",0,134)).style.width="250px",v.style.height="34px",v.innerHTML=n[netq]),""!=s[netq]&&(i=LIM.crearlink({pai:i,name:netq+"reps"+t,text:"",url:"javascript:;",cssclass:"clselec-son",alttext:LIM.td("Reproducir sonido")}),LIM.addEventSimple(i,"click",e),i.innerHTML="&#x25BA;"),2==c&&(r=-1),r++}}}function serie(g){var x={};this.crear=function(){function e(e){e.preventDefault()}function t(e){var t=e.target;"clser-i"==e.target.className&&(t=e.target.parentNode),e.dataTransfer.setData("text/html",t.id)}function r(e){e.preventDefault();var t=e.dataTransfer.getData("text/html"),r=LIM.dom(t);r&&"clser-c"==r.className&&(parseInt(t),e.target.style.backgroundImage='url("'+r.childNodes[0].src+'")')}selecciona=LIM.prc(x,g),g.properties.minheight="430";for(var i=g.properties.modo||"0",n=g.properties.etiquetas||[],a=[],o=[],s=[],l=n.length,c=0;c<l;c++)a=n[c].split("||"),o[c]=a[0]||"",s[c]=a[2]||"";var p=LIM.crearbase(g);n=LIM.paxina();var d=Array(12),m=Array(12),u=LIM.desordena(l),f=LIM.desordena(l);LIM.addEventSimple(LIM.esactividad(p,!0),"click",function(){for(var e,t=!0,r=0;r<12;r++)d[r]&&(""!=(e=d[r].style.backgroundImage)?(e=(e=(e=e.toLowerCase()).match(/[\w\.\$]+(?=png|jpg|gif)\w+/g)).toString())!=m[r]&&(d[r].style.backgroundImage="",t=!1):t=!1);t?LIM.poneravaliacion(p,g.properties.mensaben,!0,g.properties.ffinal,g.num):LIM.poneravaliacion(p,g.properties.mensamal,!1,g.properties.ffinal,g.num)});var h=LIM.creardom("div",p,"","clser-base");for(c=0;c<l;c++)(a=LIM.creardom("div",h,"","clser-cir",0,0)).setAttribute("draggable","false"),a.setAttribute("draggable","false"),a.style.backgroundImage="1"==i?'url("'+o[f[c]]+'") ':'url("'+o[c]+'")';var v=0;for(c=0;c<12;c++)a=LIM.creardom("div",h,"","clser-cir",0,0),d[c]=a,m[c]="1"==i?o[f[v]].toLowerCase().match(/[\w\.\$]+(?=png|jpg|gif)\w+/g):o[v].toLowerCase().match(/[\w\.\$]+(?=png|jpg|gif)\w+/g),++v==l&&(v=0),a.addEventListener("drop",r,!1),a.addEventListener("dragover",e,!1);for(h=LIM.creardom("div",p,"","clser-m"),c=0;c<l;c++)a=LIM.creardom("div",h,c.toString()+"med"+n.toString(),"clser-c",0,0),(i=LIM.crearimaxe({pai:a,cssclass:"clser-i",alttext:s[c]})).style.visibility="hidden",LIM.cargaimaxe(i,o[u[c]],130,90,"",!0,!0),a.setAttribute("draggable","true"),a.addEventListener("dragstart",t,!1)}}function sopa(T){var A={};this.crear=function(){function e(e){if(l[e].length<p)for(repetir=!0,e=l[e],npl=e.length;repetir;){var r=parseInt(Math.random()*p),i=parseInt(Math.random()*p),n=parseInt(3*Math.random());switch(posl=r+i*p,n){case 0:if(i+npl<p){for(benn=!0,t=0;t<npl;t++)r=posl+p*t,""!=u[r].innerHTML&&u[r].innerHTML!=e[t]&&(benn=!1);if(benn)for(repetir=!1,t=0;t<npl;t++)r=posl+p*t,u[r].innerHTML=e[t]}break;case 1:if(r+npl<p){for(benn=!0,t=0;t<npl;t++)r=posl+t,""!=u[r].innerHTML&&u[r].innerHTML!=e[t]&&(benn=!1);if(benn)for(repetir=!1,t=0;t<npl;t++)r=posl+t,u[r].innerHTML=e[t]}break;case 2:if(r+npl<p&&i+npl<p){for(benn=!0,t=0;t<npl;t++)r=posl+p*t+t,""!=u[r].innerHTML&&u[r].innerHTML!=e[t]&&(benn=!1);if(benn)for(repetir=!1,t=0;t<npl;t++)r=posl+p*t+t,u[r].innerHTML=e[t]}}}}function r(e){var t="",r=-1,i=[],n=0;if("clsopa-marca"==(e=(e=e||event).target||e.srcElement).className&&(e=N.elementFromPoint),-1!=M){if(u[M].style.backgroundColor="transparent",(n=(I=parseInt(e.id))<M?(r=I,M):(r=M,I))-r<p){for(e=r;e<n+1;e++)t+=u[e].innerHTML,i.push(u[e]);n=1}else if(0==(n-r)%p){for(var a=e=0;a<n;)t+=u[a=r+e*p].innerHTML,i.push(u[a]),e++;n=2}else{for(a=e=0;a<n;)t+=u[a=r+e*p+e].innerHTML,i.push(u[a]),e++;n=3}for(r=t,t=-1,h=0;h<c;h++)if(l[h]==r){t=h;break}r=t,M=-1}else M=parseInt(e.id),e.style.backgroundColor="#00ff00";if(-1!=r){for(t=r,e=i.length,a=0;a<e;a++)i[a].style["font-weight"]=800;1==y&&(f[t].style.backgroundColor=g[t]),ipx=parseInt(i[0].style.left)-10,ipy=parseInt(i[0].style.top),LIM.getPosition(i[0]),fpx=parseInt(i[e-2].style.left)-ipx,fpy=20,parseInt(i[0].style.top),parseInt(i[e-1].style.top),parseInt(i[0].style.left),parseInt(i[e-1].style.left);var o=(a=parseInt(i[0].style.width))/2,s=document.createElement("DIV");s.className="clsopa-marca",C.appendChild(s),s.style.top=i[0].style.top,s.style.left=i[0].style.left,"0"!=v&&(s.style.zIndex="500"),1==n?(s.style.width=e*a+2+"px",s.style.height=a+"px"):2==n?(s.style.height=e*a+3+"px",s.style.width=a-2+"px"):3==n&&(s.style.width=1.4*e*a+2+"px",s.style.height=a-5+"px",s.style.transform="rotate(45deg)",s.style.transformOrigin=o+"px "+o+"px "),s.style.backgroundColor=g[t],-(m[r]=1)==m.toString().indexOf(0)&&LIM.poneravaliacion(d,T.properties.mensaben,!0,T.properties.ffinal,T.num)}}A=LIM.prc(A,T),T.properties.minheight="430";var l=T.properties.palabras||[];if(":"==l[0][0]){var i=Number(l[0].replace(/:/gi,""));l.shift(),l=function(e,t){for(var r=e.length-1;0<r;r--){var i=Math.floor(Math.random()*(r+1)),n=e[r];e[r]=e[i],e[i]=n}return e.splice(0,t)}(l,i)}var n=T.properties.enunciados||l,a=T.properties.imaxesAltText||[],c=l.length,p=Number(T.properties.tam)||20,o=(i=(T.properties.letras||LIM.letrascomun()).split("")).length,d=LIM.crearbase(T),s=LIM.paxina(),m=Array(c),u=Array(p),f=Array(c),h=0,v=T.properties.cadro||"0",g="#ADFF2F #00FA9A #FFC0CB #FFA500 #B0E0E6 #FFDEAD #F4A460 #FFD700 #FA8258 #A5DF00 #088A85 #81F79F #81DAF5 #E6E6E6 #F78181".split(" ");LIM.esactividad(d,!1),h=0,LIM.desordena(c);var x=0,b=0,L=p*p,y=!1,M=-1,I=0,N=void 0,w=null,E=null,S="2"==T.properties.modo?LIM.creardom("div",d,"","clsopa-col1",-1,-1):LIM.creardom("div",d,"","clsopa-colenun",-1,-1);if(w=LIM.creardom("div",d,"","clsopa-col2",-1,-1),E=LIM.creardom("div",d,"","clsopa-col3",-1,-1),"2"==T.properties.modo){(x=S).style.width="162px",y=!0;var k=n.length;for(h=0;h<k;h++)(N=LIM.creardom("div",x,h+"enun"+s,"clsopa-enunim",-1,-1)).style.width="160px",N.style.height="100px",(S=LIM.crearimaxe({pai:N,name:h+"imx"+s,cssclass:"",posx:1,posy:1,alttext:a[h]})).style.visibility="hidden",f[h]=N,LIM.cargaimaxe(S,n[h],158,98,"",!0,!0),4==++b&&(b=x=0,x=E)}else if("1"==T.properties.enunciado)for(y=!0,k=n.length,h=0;h<k;h++)(N=LIM.creardom("div",S,h+"enun"+s,"clsopa-enun",-1,-1)).style.width="320px",N.innerHTML=n[h],f[h]=N;b=x=0,n=25,T.properties.tam<10&&(n=45);var C=LIM.creardom("div",w,"fsopab"+s,"",0,0);for(C.style.position="relative",(N=LIM.creardom("div",w,"fsopa"+s,"",0,0)).style.position="relative",N.style.border="solid 1px",N.style.width=22+n*p+"px",N.style.height=22+n*p+"px",N.addEventListener("mouseout",function(e){}),N.addEventListener("mousedown",function(e){r(e),e.preventDefault()},!1),N.addEventListener("mouseup",function(e){r(e)}),(w=document.createElement("canvas")).style.position="absolute",w.style.width="100%",w.style.height="100%",C.appendChild(w),(E=w.getContext("2d")).beginPath(),E.rect(10,10,500,10),E.strokeStyle="green",E.globalAlpha=.25,E.stroke(),w.style.display="block",h=0;h<L;h++)etiqf=LIM.crearlink({pai:N,name:h+"sopa"+s,text:"",url:"javascript:;",cssclass:"clsopa-base",posx:2+(n+1)*x,posy:2+(n+1)*b}),1==T.properties.forma&&(etiqf.style.border="solid 1px"),T.properties.tam<10&&(etiqf.style.fontSize="36px"),etiqf.style.borderWidth=v,"1"==T.properties.colorea&&(etiqf.style.backgroundColor="#defdef"),etiqf.style.width=n+"px",etiqf.style.height=n+"px",u[h]=etiqf,LIM.addEventSimple(etiqf,"click",r),++x==p&&(x=0,b++);for(h=0;h<c;h++)e(h),m[h]=0,l[h].length>p-1&&(m[h]=1);for(h=0;h<L;h++)""==u[h].innerHTML&&(u[h].innerHTML=i[Math.floor(Math.random()*o)])}}function test(M){var I={texto:"",respuestas:[],feed:[],imaxe:"",altimaxe:""};this.crear=function(){I=LIM.prc(I,M),M.properties.minheight="430";var e,t=M.properties.imaxe||"",r=M.properties.altimaxe||"",i=M.properties.texto||"",n=M.properties.forma||"0",a=M.properties.feed||[],o=(M.properties.respuestas||"").length,s=LIM.crearbase(M),l=LIM.paxina(),c=Array(o),p=Array(o),d="test",m=LIM.tcontido(t),u="",f="",h=[];d=0;var v=LIM.desordena(o);for("@"==(d=M.properties.corr||"000000").charAt(0)&&(d=LIM.decode(d)),e=0;e<o;e++);var g=d.substring(0,o);if(LIM.addEventSimple(LIM.esactividad(s,!0),"click",function(){L&&(y.innerHTML="");for(var e=0;e<o;e++)p[e].checked?(L=a[e],c[e]=1):c[e]=0;if(L&&(y.style.display="block",y.innerHTML=L),c.join("")==g)LIM.poneravaliacion(s,M.properties.mensaben,!0,M.properties.ffinal,M.num);else for(LIM.poneravaliacion(s,M.properties.mensamal,!1,M.properties.ffinal,M.num),e=0;e<o;e++)p[e].checked=!1}),""!=i){if("0"==n)var x=LIM.creardom("div",s,"texto"+l,"cltest-text",10,5);"1"==n&&(x=LIM.creardom("div",s,"texto"+l,"cltest-text cltest-textd",10,5)),x.innerHTML=i}if(""!=t?(e=LIM.creardom("div",s,"cmed"+l,"cltest-media",-1,-1),i=LIM.creardom("div",e,"","cltest-bmed",-1,-1),"s"==m?r=LIM.crearswf(i,"coswf"+l,t,"",0,0,360,300,""):"v"==m?(r=LIM.crearvid(i,"covid"+l,t,"",0,0,360,300,"")).style.border="solid 1px #cccccc":"i"==m?e.innerHTML=""!=r?"<img src='"+t+"' class='cladx-im' title='"+r+"'>":"<img src='"+t+"' class='cladx-im' >":(i.style.width="380px",i.innerHTML=t)):(x&&(x.className="cltest-text cltest-texts"),n="1"),"0"==n)var b=LIM.creardom("div",s,"","cltest-base");for("1"==n&&(b=LIM.creardom("div",s,"","cltest-based")),""==t&&"0"==n&&(b.style.marginLeft="120px"),e=0;e<o;e++)netq=v[e],d=e+1,u+='<input  id="'+(f=netq+"rep"+l)+'" type="Checkbox" class="cltest-ck" value=""><label for="'+f+'" class="cltest-lab"><span class="cltest-nm">'+d+'</span><div class="cltest-txt">'+M.properties.respuestas[netq]+"</div></label>",c[netq]=0,h[netq]=f;for(b.innerHTML=u,e=0;e<o;e++)p[e]=document.getElementById(h[e]);if(""!=a){var L=a[1],y=LIM.creardom("div",s,"mtexto"+l,"cltest-feed");y.innerHTML=""}}}function texto(s){var i={};i=LIM.qhtml(s.donde,i),this.crear=function(){function e(e){for(var t=(e=(u=c(e)).innerHTML).split(" "),r=0;r<d.length;r++)e=e.replace("[?]",d[r]);u.innerHTML=e;var i=u.textContent.trim().split(" ");for(i=i.filter(function(e){return""!=e}),u.innerHTML.trim().split(" "),i.filter(function(e,t){return i.indexOf(e)==t}),t=e.split(" "),e="",r=0;r<t.length;r++)e=e+" <span>"+t[r]+"</span>";u.innerHTML='<p class="cltxts-palabra">'+e+"</p>",u.addEventListener("click",function(e){"SPAN"==(e=e.target).tagName&&e.classList.toggle("cltxts-marca")})}function c(e){e.innerHTML="";var t=document.createElement("DIV");return e.appendChild(t),t.innerHTML=r,t}function p(e){for(var t=Array(e),r=0;r<e;r++)t[r]=r;for(var i;e;)i=Math.floor(Math.random()*e--),r=t[e],t[e]=t[i],t[i]=r;return t}(s=LIM.prc(i,s)).properties.minheight="430";var r=s.properties.texto,d=s.properties.palabras||"",n=Number(s.properties.modo)||0;1==n&&(n=3);var a=LIM.crearbase(s),o=LIM.creardom("div",a,"","cltxts-base"),m=LIM.paxina();LIM.addEventSimple(LIM.esactividad(a,!0),"click",function(){var e=!1;switch(n){case 0:var t=0,r=o.querySelectorAll(".cltxts-marca");if(d.length==r.length){for(var i=0;i<r.length;i++)r[i].textContent==d[i]&&t++;d.length==t&&(e=!0)}break;case 1:for(e=!0,t=o.querySelectorAll(".cltxts-in"),r=0;r<t.length;r++)t[r].value.trim()!=d[r]?e=!1:(t[r].setAttribute("readonly","readonly"),t[r].classList.add("cltxts-infx"));break;case 2:u.textContent==f&&(e=!0);break;case 3:for(e=!0,t=o.querySelectorAll(".cltxts-dw"),r=0;r<t.length;r++)t[r].value.trim()!=d[r]?e=!1:(t[r].disabled=!0,t[r].classList.add("cltxts-dwfx"))}e?LIM.poneravaliacion(a,s.properties.mensaben,!0,s.properties.ffinal,s.num):LIM.poneravaliacion(a,s.properties.mensamal,!1,s.properties.ffinal,s.num)});var u,f="";if(""==d){var t=function(e){for(var t=",.;:!¡¿?".split(""),r=0;r<t.length;r++)e=e.split(t[r]).join(" "+t[r]+" ");var i=/(?:^|[ ])\*([a-zA-Z]+)/g;if(t=[],r={},-1<e.indexOf(" *"))for(i.exec(e),t=e.match(/\*\S+/g),i=0;i<t.length;)e=e.replace(t[i],"#"+t[i].substring(1)+"#"),i++;if(t=e.match(/#.*?#/g))for(r.palabras=t.map(function(e){return e.replace(/#/g,"")}),i=0;i<t.length;)e=e.replace(new RegExp(t[i]),"[?]"),i++;else r.palabras=[];return r.texto=e,r}(r);r=t.texto,d=t.palabras}switch(n){case 0:e(o);break;case 1:!function(e){u=c(e);var t=d;e=(e=u.innerHTML).split("[?]").join("<input class='cltxts-in'  ></input>"),u.innerHTML=e,e=u.querySelectorAll(".cltxts-in");for(var r=0;r<e.length;r++)e[r].addEventListener("keypress",function(e){this.style.width=0,e=this.scrollWidth+14,this.scrollWidth>=this.clientWidth&&(e+=10),""!=this.value&&(this.style.width=e+"px")});LIM.addEventSimple(LIM.esactividad(a,!0),"click",function(){compruebaes(u,t)})}(o);break;case 2:!function(e){function o(e,t,r){for(e.style.position="absolute",e.style.visibility="hidden",e=("cltxts-destino"==(t=document.elementFromPoint(t,r)).className?(e.style.visibility="visible",t.style.width=e.width,t.innerHTML=e.innerHTML,l[parseInt(e.id)]=t):(e.style.visibility="visible",t=parseInt(e.id),null!=l[t]&&(l[t].innerHTML=i,l[t]=null),s[t].style.top=e.parentNode.offsetTop-20+"px"),0);e<n.length;e++)null!=l[e]&&(s[e].style.top=l[e].offsetTop+"px",s[e].style.left=l[e].offsetLeft+"px")}var s=[],l=[];u=c(e);for(var i="&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",t=u.textContent,n=d,r=0;r<n.length;r++)t=t.replace("[?]",n[r]);r=u.innerHTML;var a="<div class='cltxts-destino' >"+i+"</div>";r=r.split("[?]").join(a),u.innerHTML=r,f=t,function(e,t,r){document.getElementById(t+"-mov")?t=document.getElementById(t+"-mov"):((t=document.createElement("DIV")).className="cltxts-baseetiq",e.appendChild(t));for(var i,n=p(r.length),a=0;a<r.length;a++)(i=document.createElement("div")).className="cltxts-etiq cltxts-drag",i.id=a+"palas"+m,i.innerHTML=r[n[a]],s[a]=i,l[a]=null,t.appendChild(i),LIM.drag(i,e,o)}(e,e,n)}(o);break;case 3:!function(e){u=c(e);var t=d,r=p(t.length);e='<option value="?">?</option>';for(var i=0;i<t.length;i++)e+='<option value="'+t[r[i]]+'">'+t[r[i]]+"</option>";e="<select class='cltxts-dw'>"+e+"</select>",t=(t=u.innerHTML).split("[?]").join(e),u.innerHTML=t}(o);break;default:e(o)}}}function unir(g){this.crear=function(){function e(e,t,r){for(u++,e.style.zIndex=u,t=parseInt(e.id),e.id.substring(e.id.length-1),r=l[t]=0;r<a;r++){var i=c[r];LIM.estasobre(e,i,!1)&&(e.style.top=i.style.top,p[t]==i.innerHTML&&(l[t]=1))}}g.properties.minheight="430";var t,r=g.properties.unir||[],i=g.properties.textos||[],n=r.length,a=i.length,o=LIM.crearbase(g),s=LIM.paxina(),l=Array(n),c=Array(a),p=Array(a),d=0,m="",u=1100;LIM.addEventSimple(LIM.esactividad(o,!0),"click",function(){-1<l.toString().indexOf(0)?LIM.poneravaliacion(o,g.properties.mensamal,!1,g.properties.ffinal,g.num):LIM.poneravaliacion(o,g.properties.mensaben,!0,g.properties.ffinal,g.num)}),d=0,t="etq"+s,m="";var f=LIM.desordena(n),h=0;for(d=0;d<n;d++){m=(h=f[d])+t;var v=LIM.creardom("div",o,d+"dstu"+s,"clunir-etq",20,70*d+20);v.innerHTML=i[d],p[h]=i[h],c[h]=v,m=LIM.creardom("div",o,m,"clunir-drg",470,70*d+20),50<r[h].length&&(m.style.fontSize="12px"),m.innerHTML=r[h],LIM.drag(m,o,e),l[h]=0}}}function unirimx(L){this.crear=function(){function e(e,t,r){f++,e.style.zIndex=f;var i=parseInt(e.id);e.id.substring(e.id.length-1);for(var n=0;n<o;n++){var a=p[n];if(LIM.estasobre(e,a,!0)||LIM.ratosobre(e,a,t,r,!0)){d[i]==p[n].val?-(c[i]=1)==c.toString().indexOf(0)&&LIM.poneravaliacion(s,L.properties.mensaben,!0,L.properties.ffinal,L.num):c[i]=0;break}c[i]=0}}L.properties.minheight="430";var t=L.properties.imaxd||[],r=L.properties.imaxes||[],i=L.properties.textos||[""],n=L.properties.sons||[];altimaxes=L.properties.imaxesAltText||[],altimaxesf=L.properties.imaxesfAltText||[];var o=t.length,a=r.length,s=LIM.crearbase(L),l=LIM.paxina(),c=Array(o),p=Array(a),d=Array(a);a=0;var m,u="",f=1100;LIM.addEventSimple(LIM.esactividad(s,!0),"click",function(){-1<c.toString().indexOf(0)?LIM.poneravaliacion(s,L.properties.mensamal,!1,L.properties.ffinal,L.num):LIM.poneravaliacion(s,L.properties.mensaben,!0,L.properties.ffinal,L.num)}),a=0,m="etq"+l,u="";var h=LIM.desordena(o),v=0;for(a=0;a<o;a++){u=a+m;var g=(v=h[a])+m,x=LIM.creardom("div",s,u,"etiquetacl fix",9+204*a,0);x.style.width="180px",x.style.height="130px";var b=LIM.crearimaxe({pai:x,name:a+"imxf"+l,cssclass:"",posx:1,posy:1,alttext:altimaxes[a]});b.style.visibility="hidden",LIM.cargaimaxe(b,r[a],178,118,"",!0,!0),c[a]=0,i[a]&&((b=LIM.creardom("div",x,a+"txt"+l,"bandat",0,84)).style.width="180px",b.style.height="34px",b.innerHTML=i[a]),""!=n[a]&&(x.style.cursor="pointer",LIM.addEventSimple(x,"click",function(){var e=parseInt(this.id);LIM.sonar(n[e])})),(x=LIM.creardom("div",s,"b"+u,"etiquetacl dest",8+204*a,132)).style.width="180px",x.style.height="130px",x.title=LIM.td("Suelta la imagen aquí"),p[a]=x,p[a].val=a,(u=LIM.creardom("div",s,g+"m","etiquetacl mov",8+204*a,280)).style.width="180px",u.style.height="130px",(g=LIM.crearimaxe({pai:u,name:a+"imxm"+l,cssclass:"",posx:1,posy:1,alttext:altimaxesf[v]})).style.visibility="hidden",LIM.cargaimaxe(g,t[v],178,118,"",!0,!0),d[a]=a,LIM.drag(u,s,e)}}}window.LIM=new function(){function u(e){return void 0!==e&&null!=e}function f(e,t,r){void 0!==(e=z.querySelector(e))&&null!=e&&(null==e.getAttribute("title")&&e.setAttribute("title",L.td(r)),t&&"function"==typeof t&&e.addEventListener("click",function(e){e.preventDefault(),t()}))}function c(e){return parseInt(e)==e&&(e+="px"),e}function l(e){return e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),null==(e=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(window.location.href))?null:e[1]}function h(e,t,r,i){var n="",a="",o=t.split(",");if(o.length<1)n=o[0].substr(0,o[0].lastIndexOf("."))+".mp3",a=o[0].substr(0,o[0].lastIndexOf("."))+".ogg";else for(var s=0;s<o.length;s++)"mp3"==(t=o[s].substr(o[s].lastIndexOf(".")+1))&&(n=o[s]),"ogg"==t&&(a=o[s]);e.canPlayType("audio/mpeg;")&&""!=n?e.setAttribute("src",n):""!=a&&e.setAttribute("src",a),i&&(e.loop=!0),r&&(e.volume=Number(r)/100),e.play()}function d(e){""!=(e=e.target.value)&&(de=e)}function p(e){return void 0!==(e=document.getElementById(e))&&null!=e?e:""}function m(e){function t(){var e=i(this.getAttribute("href"));for(var t in window.scrollTo(0,0),a)if(t==e){n[t].className=" selected",a[t].style.display="block";var r=e.replace(/^\D+/g,"");v(r),g(r)}else n[t].className="",a[t].style.display="none";return!1}function r(e,t){for(var r=0;r<e.childNodes.length;r++)if(e.childNodes[r].nodeName==t)return e.childNodes[r];return!0}function i(e){var t=e.lastIndexOf("#");return e.substring(t+1)}var n=[],a=[];e=document.getElementById(e).childNodes;for(var o=0;o<e.length;o++)if("LI"==e[o].nodeName){var s=r(e[o],"A"),l=i(s.getAttribute("href"));n[l]=s,a[l]=document.getElementById(l)}for(l in o=0,n)n[l].onclick=t,0==o&&(n[l].className=" selected"),o++;for(l in o=0,a)a[l].style.display=0==o&&"none"==a[l].style.display?"block":"none",o++}function v(e){return r=e,H&&1<Q&&(H.innerHTML=e),!0}function g(e){return lim_sc("paxina",e+1),W&&(e==Q-1||le[e]?(W.style.visibility="hidden",_=!0):!le[e]&&_&&(W.style.visibility="visible",_=!1)),D&&(0==e||ce[e]?(D.style.visibility="hidden",pe=!0):!ce[e]&&pe&&(D.style.visibility="visible",pe=!1)),ne[e]?L.sonar(ne[e]):t.pause(),!0}function b(e){try{var t=JSON.parse(e)}catch(e){throw new L.modal(document.getElementById("lim"),0,"clmodal-avalia").open(L.td('Error en los datos<p>Código 2</p><p style="font-size:12">'+L.td("La estructura de los datos no es correcta")+"</p>")),Error(L.td("Error en los datos"))}return t}var L=this;if(l("dbg")&&window.addEventListener("error",function(){var e=(L.nup+1).toString();console.log("error pax: "+e),alert(L.td("error pax: ")+e)}),void 0===y)var y="sclim/";"function"!=typeof lim_sc&&(window.lim_sc=function(){});var M,I,N="CORRECTO",w="INCORRECTO",E=y+"mal.mp3",S=y+"ben.mp3",k=y+"av.mp3",a=[],t=new Audio,C=new Audio;C.loop=!1,C.volume=.1;var s,T,A,H,q,O,P,n,o,z,F,B,_,W,D,j=new Audio,R=new Audio,X=new Audio,Y=0,V=0,J=0,U=null,G=null,r=1,Z=0,K=0,Q=0,ee=!1,te=null,re=null,ie=[],ne=[],ae="",oe="1",se="",le=[],ce=[],pe=!1,de="",me=0,ue=1,fe="",he=0,ve=new Date,ge="abcdefghijklmnñopqrstuvwxyzç",xe=lang.ESP;document.addEventListener("beforeunload",function(){lim_sc("fin",2)}),L.letrascomun=function(){return ge},L.lim_dat=function(e,t){switch(e=e.toLowerCase()){case"nome_usuario":de=t;break;case"id":fe=t;break;case"av":L.avanza();break;case"rt":L.retrocede();break;case"informe":L.amosainforme();break;case"get":var r="",i="";switch(t){case"nome_usuario":r="nome_usuario",i=de;break;case"total_activ":r="total_activ",i=me;break;case"tipo_paxina":r="tipo_paxina";break;case"total_ben":r="total_ben",i=he.toString();break;case"total_mal":for(r="total_mal",i=_totalmal=0;i<Q;i++)2==nota[i]&&_totalmal++;i=_totalmal.toString();break;case"nome_libro":r=t,i=B;break;case"total_paxinas":r=t,i=exer.toString();break;case"paxina_actual":r=t,i=nump+1;break;case"data":r=t,i=(i=new Date).getDate()+"/"+Number(i.getMonth()+1)+"/"+i.getFullYear();break;case"titulo":r=t,i=B;break;case"autor":r=t,i=void 0;break;case"id":r=t,i=fe;break;case"tempo_inicio":i=(i=new Date).getHours()+":"+i.getMinutes()+":"+i.getSeconds();break;case"tempo":r=(new Date).getTime()-ve.getTime(),i=Math.round(r/1e3),r=t,i=i.toString();break;case"menu":r=t,i=datos_menu}if(""!=r)return null!=i&&""!=i||(i="-"),lim_sc(r,i),i}},L.dom=function(e){return document.getElementById(e)},L.addEventSimple=function(e,t,r){e.addEventListener?e.addEventListener(t,r,!1):e.attachEvent&&e.attachEvent("on"+t,r)},L.removeEventSimple=function(e,t,r){e.removeEventListener?e.removeEventListener(t,r,!1):e.detachEvent&&e.detachEvent("on"+t,r)},L.td=function(e){return xe[e]?xe[e]:e},L.ocultar=function(e){},L.mostrar=function(e){},L.colors=function(e){for(var t=Array(e),r=0;r<e;r++)t[r]="#"+Math.floor(16777215*Math.random()).toString(16);return t},L.preaudio=function(e,t){t=t.replace(/\.[^/.]+$/,""),e.canPlayType("audio/mpeg")?e.src=t+".mp3":e.src=t+".ogg",e.load()},L.preaudio(X,k),L.nup=0,L.numpax=0,document.onreadystatechange=function(){if("interactive"===document.readyState){if(document.styleSheets)for(var e=document.styleSheets,t=e.length,r=0;r<t;r++)if(-1<e[r].href.indexOf("lim.css")){var n=e[r].href.lastIndexOf("/");y=e[r].href.substr(0,n)+"/",E=y+"mal.mp3",S=y+"ben.mp3",k=y+"av.mp3"}e=!1;try{e=window.self!==window.top}catch(e){}if(e)try{var a=parent.document.getElementsByTagName("iframe");for(r=0;r<a.length;r++)a[r].setAttribute("allowFullScreen","")}catch(e){}var o;if(0==(a=document.querySelectorAll(".pcllim")).length&&(a=document.getElementsByTagName("body"),Z=1),z=r=a[0],e=null,r.getAttribute("data-limc")?e=r.getAttribute("data-limc"):(t=r.getElementsByClassName("data-limc")[0])&&(t.className="pcldata",e="textarea"==t.tagName.toLowerCase()?t.value:t.innerHTML),e&&("@"==e.substr(0,1)&&(e=L.decode(e.substr(1))),0!=(e=b(e))))if(_autor=e.autor||"",_licenza=e.licencia||"",B=e.titulo||"",se=e.indentifica||"",_idiom=e.idioma||"ESP",ue=Number(e.npax)||1,lang[_idiom]||(lang[_idiom]={}),xe=lang[_idiom],N=L.td(N),w=L.td(w),se==se&&(se='<a href="'+se+'" target="_blank">'+se+"</a>"),F=e.recursos||"",F+="/",I=e.sonben?L.addrecu(e.sonben):S,M=e.sonmal?L.addrecu(e.sonmal):E,L.preaudio(R,I),L.preaudio(j,M),Z=e.modo||0,e.caracteres&&(ge=e.caracteres),e.corbanda&&((o=r.getElementsByClassName("pclsuper")[0])&&(o.style.backgroundColor="#"+e.corbanda),(o=r.getElementsByClassName("pclsub")[0])&&(o.style.backgroundColor="#"+e.corbanda)),e.corfondo&&(o=r.getElementsByClassName("pclfondo")[0])&&(o.style.backgroundColor="#"+e.corfondo),e.cortexto&&(r.style.color="#"+e.cortexto,o&&(o.style.backgroundColor="#"+e.corfondo)),e.cornavega&&(o=r.getElementsByClassName("pclbarra")[0])&&(o.style.backgroundColor="#"+e.cornavega),e.imaxefondo&&""!=e.imaxefondo.nome&&(o=r.getElementsByClassName("pclfondo")[0],e.imaxefondo.posx&&(t=(Number(e.imaxefondo.posx)+150).toString(),o.style.backgroundPositionX=t+"px"),e.imaxefondo.posy&&(t=(Number(e.imaxefondo.posy)+50).toString(),o.style.backgroundPositionY=t+"px"),e.imaxefondo.trans&&(o.style.opacity=e.imaxefondo.trans/100),"1"!=e.imaxefondo.repeat&&(o.style.backgroundRepeat="no-repeat"),o.style.backgroundImage="url('"+L.addrecu(e.imaxefondo.nome)+"')"),e.ben&&(N=e.ben),e.mal&&(w=e.mal),e.logo&&(o=r.getElementsByClassName("pclsuper")[0])&&(o.innerHTML=e.lnklogo?'<a href="'+e.lnklogo+'" title="['+e.lnklogo+"]."+L.td("Abre en nueva ventana")+'" target="_blank" > <img src="'+e.logo+'" class="pcllogo"></a>'+o.innerHTML:'<img src="'+e.logo+'" class="pcllogo">'+o.innerHTML),e.sonido&&(o=e.sonido.split("||"),h(C,o[0],o[1],o[2])),oe=e.m_eva||oe,null!=e.axuda?ae=e.axuda||"":u(o=z.querySelector(".lbt-axd"))&&(o.style.display="none"),e.menu){for(t="<ul>",o=0;o<e.menu.length;o++)null==(n=e.menu[o].split("||"))[1]&&(n[1]=n[0]),L.nozero(n[0])&&(t+="<li><a href=\"javascript:LIM.salto('"+n[1]+"')\">"+n[0]+"</a></li>");"1"==e.modomenu?(u(o=z.querySelector(".lbt-menu"))&&(o.style.display="none"),(e=document.createElement("div")).className="pclHmenu",(o=r.getElementsByClassName("pclsub")[0])&&(o.appendChild(e),e.innerHTML=t+"</ul>")):((o=z.querySelector(".pclind"))&&(o.innerHTML=t+"</ul>"),2==e.modomenu&&o.setAttribute("class","pclind view"))}else u(o=z.querySelector(".lbt-menu"))&&(o.style.display="none");if(0<(o=a.length)){for(e=0;e<o;e++)a[e].hasAttribute("id")||a[e].setAttribute("id","lim"+e);for(o=(a=document.getElementsByName("limpax")).length,e=0;e<o;e++)a[e].hasAttribute("id")||a[e].setAttribute("id",e+"paxina");for(o=(a=document.getElementsByName("limpanel")).length,e=0;e<o;e++){var s;a[e].hasAttribute("id")||a[e].setAttribute("id","activob"+e),parseInt(a[e].parentNode.id);var l=(n=a[t=e]).querySelectorAll("*"),c={properties:{}},p=l.length;if(c.menu=n.getAttribute("data-limmenu"),n.getAttribute("data-limc"))var d=n.getAttribute("data-limc");else(s=n.getElementsByClassName("data-limc")[0])&&(s.className="pcldata",d="textarea"==s.tagName.toLowerCase()?s.value:s.innerHTML);if(d&&("@"==d.substr(0,1)&&(d=L.decode(d.substr(1))),""!=d)){0!=(s=b(d))&&(c.properties=s.properties,c.folder=F,ce[t]=!1,"1"==s.properties.ipasar&&(ce[t]=!0),le[t]=!1,"1"==s.properties.dpasar&&(le[t]=!0),c.properties.type=void 0===s.properties.type?n.getAttribute("data-limt"):s.properties.type,n.hasAttribute("class")||n.setAttribute("class","pclactivof"),c.cssstyle=void 0!==s.cssstyle?s.cssstyle:n.getAttribute("class").split(" ")[0]),c.num=t;for(var m=0;m<p;m++)switch(s=l[m].getAttribute("name"),s){case"limact":l[m].setAttribute("id","limact"+t),c.donde="limact"+t,l[m].hasAttribute("class")||l[m].setAttribute("class","pclactiv");break;case"limtexto":c.properties.texto=l[m].innerHTML;break;case"limimaxe":c.properties.imaxe=l[m].getAttribute("src");break;case"liminfo":l[m].hasAttribute("class")||l[m].setAttribute("class","nwinfo"),l[m].setAttribute("id","liminfo"+t),c.properties.info="#"+l[m].id;break;case"limcabe":l[m].hasAttribute("class")||l[m].setAttribute("class","pclcabe"),l[m].setAttribute("id","limcabe"+t),c.dvcabe="#"+l[m].id;break;case"limpe":l[m].hasAttribute("class")||l[m].setAttribute("class","pclpe"),l[m].id="limpe"+t,c.dvpe="#"+l[m].id;break;case"limmas":l[m].hasAttribute("class")||l[m].setAttribute("class","pclbutton info"),l[m].setAttribute("id","btliga"+t),c.properties.txliga="#"+l[m].id,c.properties.paxliga=l[m].getAttribute("href");break;case"limson":l[m].hasAttribute("class")||l[m].setAttribute("class","pclbutton play"),l[m].setAttribute("id","btplay"+t),l[m].setAttribute("onclick",'LIM.sonar("'+l[m].getAttribute("href")+'")'),c.properties.son=l[m].getAttribute("href"),c.properties.autoson=l[m].getAttribute("data-liauto"),l[m].setAttribute("href","javascript:;");break;case"limdat":c.texto=l[m].innerHTML}void 0===c.donde&&(L.creardom("div",n,"limact"+t,"pclactiv"),c.donde="limact"+t),L.loadp(c)}}O=document.getElementsByTagName("VIDEO"),P=document.getElementsByTagName("iframe")}if(d=void 0,e=(d=(d=window.location.search).replace(/^\?/,"&amp;").match(/&amp;npax=([^&amp;]*)/i))?d[1]:"",document.getElementsByClassName("pclpreload"))for(d=document.getElementsByClassName("pclpreload");d[0];)d[0].parentNode.removeChild(d[0]);!function(t){var r=t.getElementsByClassName("pclsuper")[0];if(u(r)&&(Y=parseInt(window.getComputedStyle(r).height)),u(r=t.getElementsByClassName("pclsub")[0])&&(V=parseInt(window.getComputedStyle(r).height)),u(r=t.getElementsByClassName("pclbase")[0])&&(r.style.height=parseInt(window.getComputedStyle(t).height)-Y-V-8+"px",window.addEventListener("resize",function(e){u(r=t.getElementsByClassName("pclbase")[0])&&(r.style.height=parseInt(window.getComputedStyle(t).height)-Y-V-8+"px")})),q=t.getElementsByClassName("pclcont"),1!=Z)for(i=1;i<q.length;i++)q[i].style.display="none";Q=q.length,H=t.getElementsByClassName("pclnum")[0],U=q[0];var e,n="botón para poner o quitar la pantalla completa;botón para mostrar el informe;botón para avanzar página;botón para retroceder página;botón para mostrar el menú del libro;botón para ocultar o mostrar la barra lateral;botón para mostrar documento de ayuda".split(";"),a=[{".lbt-full":function(){var e=document.documentElement;document.fullscreenElement&&null!==document.fullscreenElement||document.webkitFullscreenElement&&null!==document.webkitFullscreenElement||document.mozFullScreenElement&&null!==document.mozFullScreenElement||document.msFullscreenElement&&null!==document.msFullscreenElement?document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen():e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen()},".lbt-infor":function(){L.amosainforme()},".lbt-frw":function(){L.avanza()},".lbt-bck":function(){L.retrocede()},".lbt-menu":function(){t.querySelector(".pclind").classList.toggle("view")},".pclbtbr":function(){t.querySelector(".pclbarra").classList.toggle("noview")},".lbt-axd":function(){L.salto(ae)}}],o=0;for(e in a)if(a.hasOwnProperty(e))for(var s in a[e])a[e].hasOwnProperty(s)&&f(s,a[e][s],n[o]),o++;W=z.getElementsByClassName("lbt-frw")[0],(D=z.getElementsByClassName("lbt-bck")[0])&&(D.style.visibility="hidden"),re=0==oe?new L.alert(t,0,"nwalert"):new L.modal(t,0,"clmodal-avalia"),te=new L.modal(t,1,"clmodal-informe"),q=t.querySelectorAll(".pclcont"),u(r=t.querySelector(".pclnum"))}(z),d=window.location.pathname.split("/").pop()||"lim",lim_sc("inicio",d),lim_sc("totalp",Q),lim_sc("numexer",me),(o=r.getElementsByClassName("pcltotal")[0])&&(o.innerHTML=Q),H&&1<Q&&(H.innerHTML="1"),pe=!0,""!=e?L.salto(e):L.salto(ue)}},L.alert=function(e,t,r){var i=this;this.target=e,this.isOpen||(this.clase=r,this.clasev=this.clase+" "+this.clase+"v",this.modalWindow=document.createElement("div"),this.target.appendChild(this.modalWindow),this.modalWindow.className=this.clase,this.open=function(e,t){this.isOpen||(this.isOpen=!0,window.clearTimeout(o),this.modalWindow.innerHTML=e,0<t&&(i=this,o=window.setTimeout(function(){i.close()},1e3*t)),this.modalWindow.className=this.clasev)},this.close=function(){this.modalWindow.className=this.clase,this.isOpen=!1})},L.modal=function(e,t,r){if(this.target=e,!this.isOpen){var i=this;this.clase=r,this.clasev=this.clase+" "+this.clase+"v",this.overlay=document.createElement("div"),this.overlay.className="clmodal-overlay",this.overlay.setAttribute("tabindex",-1),this.modalWindow=document.createElement("div"),this.modalWindow.className=r||"clmodal-avalia",this.modalWindow.setAttribute("role","dialog"),this.modalWindow.setAttribute("tabindex",0),this.modalWrapper=document.createElement("div"),this.modalWrapper.className="clmodal-wrapper",this.modalContent=document.createElement("div"),this.modalContent.className="clmodal-content",this.escapeHandler=function(e){27===e.keyCode&&i.close()},this.modalWindow.appendChild(this.modalWrapper),this.modalWrapper.appendChild(this.modalContent),this.overlay.onclick=function(){i.close()},1==t?(this.closeButton=document.createElement("button"),this.closeButton.className="clmodal-close",this.closeButton.innerHTML="X",this.closeButton.setAttribute("title",L.td("Cerrar")),this.closeButton.setAttribute("type","button"),this.modalContent.style="cursor:default;",this.closeButton.onclick=function(){i.close()},this.modalWindow.appendChild(this.closeButton)):this.modalWindow.onclick=function(){i.close()},this.trigger=null,this.isOpen=!1}return this.open=function(e,t,r){window.clearTimeout(n),this.isOpen||(e&&this.update(e),this.modalWindow.className=this.clase,this.target.appendChild(this.overlay),this.target.appendChild(this.modalWindow),window.addEventListener?(window.addEventListener("focus",this.focusHandler,!1),window.addEventListener("keyup",this.escapeHandler,!1)):(window.attachEvent("onfocus",this.focusHandler),window.attachEvent("onkeyup",this.escapeHandler)),this.trigger=document.activeElement,this.modalWindow.focus(),this.isOpen=!0,r&&r.call(this),0<t&&(i=this,n=window.setTimeout(function(){i.close()},1e3*t)),this.modalWindow.className=this.clasev)},this.update=function(e){this.modalContent.innerHTML=e},this.close=function(e){if(this.modalWindow.className=this.clase,this.isOpen){window.removeEventListener?(window.removeEventListener("focus",this.focusHandler,!1),window.removeEventListener("keyup",this.escapeHandler,!1)):(window.detachEvent("onfocus",this.focusHandler),window.detachEvent("onkeyup",this.escapeHandler)),this.target.removeChild(this.modalWindow),this.target.removeChild(this.overlay);for(var t=0,r=this.target.children.length;t<r;t++)this.target.children[t].removeAttribute("aria-hidden");this.trigger&&(this.trigger.focus(),this.trigger=null),this.isOpen=!1,e&&e.call(this)}},this.teardown=function(){this.isOpen&&this.close(),delete this.escapeHandler,delete this.focusHandler,delete this.closeButton,delete this.modalContent,delete this.modalWrapper,delete this.modalWindow,delete this.overlay,delete this.trigger,delete this.isOpen},this},L.getvar=function(e){if("total_activ"==e)return total_activ},L.inicio=function(e,t,r){Z=r,L.dom(e),K=t,A=L.dom("activo"+t)},L.aspecto=function(e){L.nozero(e.titulo),L.nozero(e.musica)&&h(C,e.musica)},L.crearpaxina=function(e,t){L.numpax++,L.nozero(t)||(t="");var r=L.creardom("div",A,"paxina"+e,"clpaxina "+t,-1,-1);return 1!=Z&&0!=e&&(r.style.display="none"),U=r},L.crearbase=function(e){s=T=null,J++;var t=document.getElementById(e.donde),r=null;if(null!=e.properties.dvpe)"#"==e.properties.dvpe.substr(0,1)&&(T=L.dom(e.properties.dvpe.substr(1)));else{var i="";L.nozero(e.properties.txpe)&&(i='<div class="pclpetext">'+e.properties.txpe+"</div>"),t.insertAdjacentHTML("afterend",i+'<div id="limpe'+J+'" class="pclpe"></div>'),T=L.dom("limpe"+J),e.properties.pxliga&&(i=e.properties.pxliga.split("||"),L.crearlink({pai:T,name:"btliga"+J,text:i[0],url:"javascript:LIM.salto('"+i[1]+"')",cssclass:"pclbutton info",posx:-1,posy:-1,alttext:"["+i[1]+"]."+L.td("Abre en nueva ventana")})),L.nozero(e.properties.ison)&&L.crearlink({pai:T,name:"btson"+J,text:"",url:'javascript:LIM.sonar("'+L.addrecu(e.properties.ison)+'");',cssclass:"pclbutton play",posx:-1,posy:-1,alttext:L.td("Escuchar")})}if(null!=e.donde?(i=(r=L.dom(e.donde)).parentNode,null!=e.properties.dvcabe?"#"==e.properties.dvcabe.substr(0,1)&&(s=L.dom(e.properties.dvcabe.substr(1))):(null==e.properties.txcabe&&(e.properties.txcabe=""),t.insertAdjacentHTML("beforebegin",'<div  name="limcabe" id="limcabe'+J+'" class="pclcabe">'+e.properties.txcabe+"</div>"),s=L.dom("limcabe"+J)),L.nozero(e.properties.cssstyle)&&(i.className=i.className+" "+e.properties.cssstyle)):(L.nozero(e.width)||(e.width="100%"),L.nozero(e.height)||(e.height="100%"),e.properties.hidden&&(e.properties.cssstyle="hidden"),t='<div id="cabe'+J+'" class="clcabe"></div>',r.innerHTML=t,t=L.creardom("div",r,"activob"+J,"pclactiv",0,0),t='<div id="pe'+J+'"  class="pclpe"><span id="petext'+J+'" class="pclpetext"></span></div></div>',r.innerHTML+=t+"</div>",s=L.dom("cabe"+J),T=L.dom("pe"+J),L.dom("petext"+J),t=L.dom("activob"+J)),null!=e.properties.info&&s&&"#"==e.properties.info.substr(0,1)){var n=L.dom(e.properties.info.substr(1));L.crearlink({pai:s,url:"javascript:;",name:J+"btin",cssclass:"claxd",alttext:L.td("Saber más")}).onclick=function(){n.className="nwinfo nwinfov"==n.className?"nwinfo ":"nwinfo nwinfov"}}return e.properties.height?t.style.minHeight=e.properties.height+"px":e.properties.minheight&&(t.style.minHeight=e.properties.minheight+"px"),e.properties.estilo&&((i=t.parentNode).className=i.className?i.className+" "+e.properties.estilo:e.properties.estilo),a.push(r),t},L.comunes=function(e,t,r,i,n,a,o){a&&(e=a.split("||"),L.crearlink({pai:T,name:"btliga"+J,text:e[0],url:e[1],cssclass:"pclbutton info",posx:-1,posy:-1,alttext:o+" ."+L.td("Abre en nueva ventana")})),null!=t&&(s.innerHTML=t),null!=r&&(T.innerHTML=r),null!=i&&""!=i&&(btson=L.crearlink({pai:T,name:"btplay"+J,url:"javascript:;",cssclass:"pclbutton play",posx:-1,posy:-1,alttext:L.td("Reproducir sonido")}),btson.style.visibility="visible",L.addEventSimple(btson,"click",function(){L.sonar(i)}))},document.addEventListener("keypress",function(e){27==e.keyCode&&document.getElementById("vista")&&(document.getElementById("vista").style.display="none")}),document.addEventListener("keydown",function(e){if(e.altKey)switch(e.code){case"F11":L.salto("imprimir");break;case"F10":L.verhtml();break;case"F9":L.amosainforme();break;case"F8":case"Enter":L.comprobar();break;case"ArrowRight":L.avanza();break;case"ArrowLeft":L.retrocede()}}),L.esactividad=function(e,t){T=T||L.creardom("div",e.parentNode,"pclpe"+J,"",0,0);var r=null;return ie[J-1].res=3,me++,t&&((r=L.crearlink({pai:T,name:"btcomproba"+J,url:"javascript:;",cssclass:"pclbutton clcomproba",posx:-1,posy:-1,alttext:L.td("Comprobar el resultado")})).style.visibility="visible"),r},L.verinforme=function(){},L.amosa=function(e){e.style.display="block"==e.style.display?"none":"block"},L.amosatodo=function(){if(ee){ee=!1;var e="none"}else ee=!0,e="block";for(var t=document.getElementsByClassName("clpaxina"),r=0;r<t.length;r++)"block"==t[r].style.display&&"block"==e&&(G=t[r]),t[r].style.display=e;null==G&&(vismane=G=t[0]),"none"==e&&(G.style.display="block")},L.sonar=function(e){e?h(t,e):t.pause()},L.amosainforme=function(){var e="",t=ie.length,r=L.td("Panel");L.td("Página"),e=L.td("Intentos");var i=L.td("Resultado"),n=L.td("Descripción"),a=L.td("Autoría"),o="",s=0,l=0,c=new Date;for(c='<p class="clinf-titulo">'+B+" ("+c.getDate()+"-"+(c.getMonth()+1)+"-"+c.getFullYear()+"  "+c.getHours()+":"+c.getMinutes()+")</p>",c=""==de?c+'<input type="text" class="clinf-user"></input>':c+'<p type="text" class="clinf-user" >'+de+"</p>",c+='<div  class="clinf-o" >',r='<table class="clinf-tb" ><tr><td>'+r+"</td><td>"+n+"</td><td>"+i+"</td><td>"+e+"</td></tr>",i=0;i<t;i++)o="",s=i+1,e="clinf-c",3==ie[i].res?(o="&#9899",e+=" clinf-n"):1==ie[i].res?(o="X",e+=" clinf-m"):2==ie[i].res?(o="&#10004",e+=" clinf-b",l++):0==ie[i].res&&(o="-"),r+="<tr><td>"+s+"</td><td>"+ie[i].nome+"</td><td>"+o+"</td><td>"+ie[i].intos+"</td></tr>",c+='<p class="'+e+'">'+s+"</p>";r+="</table>",0<l?(t=100*l/me,parseInt(t)!=t&&(t=t.toFixed(1))):t=0,c=(c+='<div class="clinf-nt"><span class="clinf-cn clinf-b">'+l.toString()+' &#10004 </span><span class="clinf-cn"> '+me.toString()+' </span><span class="clinf-cn"> '+t.toString()+"%</span></div>")+"</div>"+r+'<p class="clinf-aut">'+a+": "+_autor+"</p>",c+='<p class="clinf-aut">'+se+"</p>",c+='<p class="clinf-aut">'+_licenza+"</p>";var p=c+='<p class="clinf-aut">LIM 5.3.2</p>';c+='<button  class="clinf-imprin" >'+L.td("Imprimir")+"</button>",te.open(c),(a=te.modalContent).getElementsByClassName("clinf-imprin")[0].onclick=function(){L.imprimirdv(p,0)},a.getElementsByClassName("clinf-user")[0].onchange=d},L.pechainforme=function(){te.close()},L.tcontido=function(e){var t="";return e=e.split(".").pop().toLowerCase(),-1<"webm mp4 ogv".indexOf(e)?t="v":-1<"swf".indexOf(e)?t="s":-1<"jpg,png,gif".indexOf(e)&&(t="i"),t},L.hasClass=function(e,t){return e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$o)"))},L.desordenam=function(e){for(var t=[],r=0;r<e;r++)t.push(r);return t=t.sort(function(){return Math.random()-.5}),finarr},L.desordena=function(e){for(var t=[],r=0;r<e;r++)t.push(r);e=t.length;for(var i;0!==e;)i=Math.floor(Math.random()*e),r=t[--e],t[e]=t[i],t[i]=r;return t},L.revolve=function(e){return e.sort(function(){return Math.random()-.5})},L.estasobre=function(e,t,r){var i=!1;if(t){var n=t.offsetLeft,a=t.offsetTop,o=n+t.offsetWidth,s=a+t.offsetHeight,l=e.offsetLeft,c=e.offsetTop,p=l+e.offsetWidth,d=c+e.offsetHeight,m=c+e.offsetHeight,u=l+e.offsetWidth,f=l-10,h=c+e.offsetHeight/2;l<o+5&&n-5<l&&a-10<c&&c<s+5?(i=!0,X.play()):p<o&&n<p&&a<d&&d<s?(i=!0,X.play()):l<o&&n<l&&a<m&&m<s?(i=!0,X.play()):u<o&&n<u&&a<c&&c<s?(i=!0,X.play()):f<o&&n<f&&a<h&&h<s&&(i=!0,X.play()),i&&r&&(e.style.left=t.style.left,e.style.top=t.style.top)}return i},L.ratosobre=function(e,t,r,i,n){var a=!1;if(t){var o=t.style.zIndex,s=t.offsetLeft,l=t.offsetTop;t.style.zIndex="5000",t==document.elementFromPoint(r,i)&&(a=!0,X.play(),n&&(e.style.left=s+1+"px",e.style.top=l+1+"px"))}return t.style.zIndex=o,a},L.getPosition=function(e){e="string"==typeof e||e instanceof String?document.getElementById(e):e;for(var t=0,r=0;t+=e.offsetLeft,r+=e.offsetTop,e=e.offsetParent;);return{x:t,y:r}},L.poneravaliacion=function(e,t,r,i,n){var a=Number(n)+1;if(null==i&&(i=""),"_"!=i.substr(0,1))if(r)2!=ie[n].res&&ie[n].intos++,ie[n].res=2,L.nozero(t)?re.open(t,2):re.open(N,2),lim_sc("avben",n+1),he++,R.play(),L.creardom("div",e.parentNode,"","pclben"),le[n]=!1,ce[n]=!1,W&&(n==Q-1||le[n]?(W.style.visibility="hidden",_=!0):!le[n]&&_&&(W.style.visibility="visible",_=!1)),D&&(0==n||ce[n]?(D.style.visibility="hidden",pe=!0):!ce[n]&&pe&&(D.style.visibility="visible",pe=!1));else{var o=e.parentNode.getElementsByClassName("pclben")[0];o&&e.parentNode.removeChild(o),2!=ie[n].res&&(ie[n].intos++,ie[n].res=1),L.nozero(t)?re.open(t,2):re.open(w,2),lim_sc("avmal",n+1),j.play()}""!=i&&window[i](r,a)},L.crearlink=function(e){var t=p(e.name);if(""==t){if(t=document.createElement("a"),L.nozero(e.name)&&(t.id=e.name),L.nozero(e.alttext)&&(t.title=e.alttext),L.nozero(e.cssclass)&&(t.className=e.cssclass),-1!=e.posy&&(t.style.top=e.posy+"px"),-1!=e.posx&&(t.style.left=e.posx+"px"),L.nozero(e.dimx)&&(t.style.width=c(e.dimx)),L.nozero(e.dimy)&&(t.style.height=c(e.dimy)),L.nozero(e.target)&&t.setAttribute("target",e.parent),L.nozero(e.url)&&(t.href=e.url),L.nozero(e.text)){var r=document.createTextNode(e.text);t.appendChild(r)}e.pai.appendChild(t)}return t},L.creardom=function(e,t,r,i,n,a,o,s){var l=p(r);return""==l&&(l=document.createElement(e),L.nozero(r)&&(l.id=r),L.nozero(i)&&(l.className=i),a&&-1!=a&&(l.style.top=a+"px"),n&&-1!=n&&(l.style.left=n+"px"),L.nozero(o)&&(l.style.width=c(o)),L.nozero(s)&&(l.style.height=c(s)),t.appendChild(l)),l},L.crearspan=function(e,t,r,i,n){var a=p(t);return""==a&&((a=document.createElement("span")).id=t,""!=r&&(a.className=r),a.style.top=n+"px",a.style.left=i+"px",e.appendChild(a)),a},L.crearlabel=function(e,t,r,i,n,a,o){return""==(r=p(r))&&((r=document.createElement("label")).setAttribute("for",t),r.appendChild(document.createTextNode(o)),""!=i&&(r.className=i),r.style.top=a+"px",r.style.left=n+"px",e.appendChild(r)),r},L.crearchk=function(e,t,r,i,n){var a=p(t);return""==a&&((a=document.createElement("input")).setAttribute("type","checkbox"),a.id=t,""!=r&&(a.className=r),a.style.top=n+"px",a.style.left=i+"px",e.appendChild(a)),a},L.crearimaxe=function(e){var t=p(e.name);return""==t&&(t=document.createElement("img"),e.name&&(t.id=e.name),L.nozero(e.cssclass)?t.className=e.cssclass:t.style.position="absolute",L.nozero(e.alttext)&&(t.title=e.alttext),t.style.left=c(e.posx),t.style.top=c(e.posy),e.pai.appendChild(t)),t},L.crearswf=function(e,t,r,i,n,a,o,s,l){return""==(l=p(t))&&(l=document.createElement("object"),""!=t&&(l.id=t),""!=i&&(l.className=i),l.style.position="absolute",l.style.left=n+"px",l.style.top=a+"px",l.data=r,l.height=s,l.width=o,e.appendChild(l)),l},L.crearvid=function(e,t,r,i,n,a,o,s,l){return""==(l=p(t))&&(l=document.createElement("video"),""!=t&&(l.id=t),""!=i?l.className=i:l.style.position="absolute",""!=n&&(l.style.left=n+"px"),""!=a&&(l.style.top=a+"px"),l.src=r,""!=s&&(l.height=s),""!=o&&(l.width=o),l.controls="controls",e.appendChild(l)),l},L.crearinput=function(e){var t=p(e.name);if(""==t){var r=document.createElement("a");t=document.createElement("input"),e.name&&(t.id=e.name),t.type="text",L.nozero(e.cssclass)&&(t.className=e.cssclass),L.nozero(e.cssclass)||(t.style.position="absolute"),t.style.left=c(e.posx),t.style.top=c(e.posy),t.style.width=c(e.dimw),t.style.height=c(e.dimh),L.nozero(e.pholder)||(e.pholder=L.td("Tu respuesta")),t.title=e.pholder,t.placeholder=e.pholder,t.value="",r.appendChild(t),e.pai.appendChild(r)}return t},L.crearsonido=function(e,t,r){var i=p(t);return""==i&&(i=document.createElement("audio"),""!=t&&(i.id=t),i.preload=r,e.appendChild(i)),i},L.crearselect=function(e,t,r,i,n,a){var o=p(t);if(""==o){for(o=document.createElement("select"),""!=t&&(o.id=t),""!=r?o.className=r:o.style.position="absolute",t=0;t<a.length;++t)o[o.length]=new Option(a[t],a[t]);-1!=i&&(-50!=i&&(o.style.top=n+"px"),-50!=n&&(o.style.left=i+"px")),e.appendChild(o)}return o},L.crearselectimx=function(e,t,r,i,n,a,o,s){var l=p(t);if(""==l){for(l=document.createElement("select"),""!=t&&(l.id=t),""!=r?l.className=r:l.style.position="absolute",l.style.backgroundImage="url("+s[0]+")",t=0;t<s.length;++t)l[t]=new Option("",s[t]),l[t].style.width=a+"px",l[t].style.height=o+"px",l[t].style.backgroundImage="url("+s[t]+")",l[t].style.backgroundRepeat="no-repeat",l[t].style.backgroundSize=" 90px auto";-50!=i&&(l.style.top=n+"px"),-50!=n&&(l.style.left=i+"px"),l.onchange=function(){this.style.backgroundImage="url("+this.value+")",this.style.backgroundRepeat="no-repeat",this.style.backgroundSize=" 90px auto"},e.appendChild(l)}return l},L.transparencia=function(e,t){""!=t&&(e.style.opacity=t/100,e.style.filter="alpha(opacity="+t+")")},L.cargaimaxe=function(s,e,l,c,p,d,m){L.addEventSimple(s,"load",function e(){var t=L.reduce(s.width,s.height,l,c);s.width=t.W,s.height=t.H,m&&(s.style.left=1+(l-t.W)/2+"px",s.style.top=1+(c-t.H)/2+"px");var r=s.width,i=s.height;if(0<l){var n=s.naturalWidth,a=s.naturalHeight;if(l<n){var o=parseInt(l/n*100);a=i=o*a/100,n=r=l}c<a&&(r=(o=(i=c)/a*100)*n/100),s.width=r,s.height=i,m&&(s.style.left=1+(l-r)/2+"px",s.style.top=1+(c-i)/2+"px")}d&&(s.parentNode.style.backgroundImage=""),L.removeEventSimple(s,"load",e),s.style.visibility="visible",""!=p&&p(t.W,t.H,!0)}),L.addEventSimple(s,"error",function(){return"b"}),d&&(s.parentNode.style.backgroundImage="url("+y+"'pre.gif')",s.parentNode.style.backgroundRepeat="no-repeat"),s.style.visibility="hidden",s.src=e},L.ttrim=function(e){var t="";return""!=e&&(t=e.replace(/^\s\s*/,"").replace(/\s\s*$o/,"")),t},L.borde=function(e,t){return""!=t&&(e.style.borderRadius=t+"px",e.style.MozBorderRadius=t+"px",e.style.MsBorderRadius=t+"px",e.style.webkitBorderRadius=t+"px",e.style.khtmlBorderRadius=t+"px"),!0},L.comprobar=function(){U.querySelectorAll(".clcomproba")[0].click()},L.funcomprobar=function(e){if(""!=e){var t=L.dom("btcomproba");t.style.visibility="visible",L.addEventSimple(t,"click",e)}return!0},L.sleep=function(e){for(var t=(new Date).getTime();t+e>=(new Date).getTime(););},L.salto=function(e){var t=O;if(t)for(var r=0;r<t.length;r++)t[r].pause();if(P)for(r=0;r<P.length;r++)P[r].src=P[r].src;switch(e){case"ver":L.imprimirdv(U.innerHTML,0);break;case"imprimir":L.imprimirdv(U.innerHTML,1);break;case"comprobar":L.comprobar();break;default:isNaN(e)?"-"==e.substr(0,1)?window.open(e.substr(1),"_self"):open(e):e<=Q&&0<e&&(v(e),--e,0==Z?(U.style.display="none",(U=q[e]).style.display="block"):L.dom("paxina"+e)&&("none"==L.dom("paxina"+e).style.display&&(L.amosatodo(),L.dom("paxina"+e).style.display="block"),L.getPosition("paxina"+e)),g(e))}},L.lcambia=function(e,t,r){return e.substr(0,t)+r+e.substr(t+r.length)},L.enche=function(e,t){for(var r="",i=0;i<t;i++)r+=e;return r},L.limparHTML=function(e){return e.replace(/<[^>]+>/g,"")},L.sspc=function(e){return e.replace(/ /g,"")},L.xira=function(e,t){e.style.webkitTransform="rotate("+t+"deg)",e.style.msTransform="rotate("+t+"deg)",e.style.MozTransform="rotate("+t+"deg)",e.style.OTransform="rotate("+t+"deg)",e.style.transform="rotate("+t+"deg)"},L.reduce=function(e,t,r,i){var n={};return n.W=e,n.H=t,0<r&&(r<e&&(e=parseInt(r/e*100),n.W=r,n.H=e*t/100,t=n.H,e=n.W),i<t&&(n.H=i,n.W=i/t*100*e/100)),n},L.nozero=function(e){return null!=e&&""!=e&&"undefined"!=e},L.valorcss=function(e,t){if(document.styleSheets)for(var r=document.styleSheets.length-1;0<=r;r--)for(var i=document.styleSheets[r].cssRules||document.styleSheets[r].rules||[],n=0;n<i.length;n++)if(i[n].selectorText===e)return i[n].style[t];return null},L.cambiafont=function(e){if(0<e.length)for(var t=e.length-1;-1<t;t--){var r=e[t].getAttribute("color"),i=e[t].getAttribute("size"),n=e[t].getAttribute("face"),a=document.createElement("span");a.setAttribute("style","color:"+r+";font-size:"+i+"px;face:"+n+";"),a.innerHTML=e[t].innerHTML,e[t].parentNode.insertBefore(a,e[t]),e[t].parentNode.removeChild(e[t])}},L.addrecu=function(e){return e},L.qhtml=function(e,t){if(L.dom(e))for(var r,i,n,a,o=L.dom(e).querySelectorAll("*"),s=o.length,l=0;l<s;l++)for(var c in r=o[l].getAttribute("name"),a=o[l].tagName,t)r=="lim"+c&&(i=t[c],"IMG"==a?(n=o[l].getAttribute("src"),"undefined"!=o[l].getAttribute("title")?t.imaxeAltText.push(o[l].getAttribute("title")):t.imaxeAltText.push(""),[].filter.call(o[l].attributes,function(e){return/^data-/.test(e.name)})):n=o[l].innerHTML,i instanceof Array?i.push(n):i=n);return t},L.prc=function(e,t){var r,i={width:600,height:450,cssstyle:""},n={ison:"",autoson:0,txliga:"",paxliga:"",mensamal:"",mensaben:"",txcabe:"",txpe:"",modo:0,forma:0};for(r in n)null==t.properties[r]&&(t.properties[r]=n[r]);for(r in i)null==t[r]&&(t[r]=i[r]);for(r in e)null==t.properties[r]&&(t.properties[r]=e[r]);for(r in e)""!=e[r]&&(t.properties[r]=e[r]);return t},L.newpanel=function(e,t){"function"==typeof window[e]&&new window[e](t).crear()},L.loadp=function(e){e.paxina=L.nup+1;var t=L.nup;ie[t]={nome:"",tip:0,pax:0,intos:0,res:0,av:!0,ret:!0,auto:!1},L.nup++,"function"==typeof window[e.properties.type]&&(new window[e.properties.type](e).crear(),L.nozero(e.properties.name)?ie[t].nome=e.properties.name:ie[t].nome="",ie[t].pax=1,ie[t].intos=0,"1"==e.properties.autoson&&"undefined"!=ne[t]&&(ne[t]=e.properties.ison))},L.load=function(e){e=L.dom(e).value;var t=!0;try{var r=JSON.parse(e)}catch(e){t=!1,A.innerHTML="",alert(L.td("Error en el archivo de datos"))}if(t){Q=t=(e=r).paxinas.length;var i=0;L.aspecto({titulo:e.titulo,subtitulo:e.subtitulo,musica:e.musica}),r='<ul id="limtabul'+K+'">';var n='<ul id="limnumul'+K+'">';for(x=0;x<t;x++){var a=e.paxinas[x].paxina[0];L.crearpaxina(x,a.cssstyle);var o=a.panels.length;for(L.nozero(a.menu)&&(r+='<li><a href="#paxina'+x+'">'+a.menu+"</a></li>"),n+='<li><a href="#paxina'+x+'">'+(x+1)+"</a></li>",xx=0;xx<o;xx++)if(a=e.paxinas[x].paxina[0].panels[xx],"function"==typeof window[a.panel.properties.type]){a.panel.num=i,L.nozero(a.panel.properties.menu)&&(r+='<li><a href="#paxina'+x+'">'+a.panel.properties.menu+"</a></li>"),new window[a.panel.properties.type](a.panel).crear(),ie[i]={nome:"",tip:0,pax:0,intos:0,res:0,av:!0,ret:!0,auto:!1},L.nozero(a.panel.properties.name)?ie[i].nome=a.panel.properties.name:ie[i].nome="",ie[i].pax=x+1,ie[i].intos=0;var s=a.panel.properties.autoson;L.nozero(s)&&"1"==s&&"undefined"!=ne[x]&&(ne[x]=a.panel.properties.son),i++}}r+=" </ul>",n+=" </ul>",L.dom("limtab"+K).style.display="none",L.dom("latmenu"+K).innerHTML=r,m("limtabul"+K),L.dom("limtab"+K).innerHTML=n,m("limnumul"+K),U=L.dom("paxina"+K),0==Z&&(L.dom("latmenu"+K).style.display="none",v(1)),null!=(e=l("npax"))?L.salto(Number(e)):2==Z&&(L.dom("limtab"+K).innerHTML=r)}},L.drag=function(i,e,n){(e=new Draggabilly(i,{containment:e})).on("dragStart",function(e,t,r){this.zprof=i.style.zIndex||2999,i.style.zIndex="3000"}),e.on("dragEnd",function(e,t,r){this.zprof&&(i.style.zIndex=this.zprof),""!=n&&n(i,r.clientX,r.clientY)})},L.paxina=function(){return J},L.decode=function(e){var l={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",decode:function(e){var t="",r=0;for(e=e.replace(/[^A-Za-z0-9\+\/=]/g,"");r<e.length;){var i=this._keyStr.indexOf(e.charAt(r++)),n=this._keyStr.indexOf(e.charAt(r++)),a=this._keyStr.indexOf(e.charAt(r++)),o=this._keyStr.indexOf(e.charAt(r++));i=i<<2|n>>4,n=(15&n)<<4|a>>2;var s=(3&a)<<6|o;t+=String.fromCharCode(i),64!=a&&(t+=String.fromCharCode(n)),64!=o&&(t+=String.fromCharCode(s))}return l._utf8_decode(t)},_utf8_decode:function(e){var t="",r=0;for(c1=c2=0;r<e.length;){var i=e.charCodeAt(r);i<128?(t+=String.fromCharCode(i),r++):191<i&&i<224?(c2=e.charCodeAt(r+1),t+=String.fromCharCode((31&i)<<6|63&c2),r+=2):(c2=e.charCodeAt(r+1),c3=e.charCodeAt(r+2),t+=String.fromCharCode((15&i)<<12|(63&c2)<<6|63&c3),r+=3)}return t}};return l.decode(e)},L.imprimirdv=function(e,t){var r='<html><head><meta charset="UTF-8"/><title></title>   <link rel="stylesheet" href="./sclim/lim.css" type="text/css" /></head><body class="pclimprin">'+e+"</body></html>",i=window.open("","Print","height=800,width=1000");return i.document.write(r),i.document.close(),i.focus(),1==t&&i.print(),!0},L.autoSizeText=function(e){var t;if(!(e.length<0)){var r=[],i=0;for(t=e.length;i<t;i++){var n=e[i];r.push(function(e){var t,r;for(t=[];e.scrollHeight>e.offsetHeight;)t.push((r=parseInt($(e).css("font-size").slice(0,-2))-1+"px",$(e).css("font-size",r)));return t}(n))}return r}},L.relposX=function(e){for(var t=0;isNaN(e.offsetLeft)||(t+=e.offsetLeft),e=e.offsetParent;);return t},L.relposY=function(e){for(var t=0;isNaN(e.offsetTop)||(t+=e.offsetTop),e=e.offsetParent;);return t},L.absPos=function(e){var t,r;for(r=t=0;null!=e;e=e.offsetParent)t+=e.offsetLeft,r+=e.offsetTop;return{x:t,y:r}},L.avanza=function(){return r<Q&&(r++,L.salto(r)),!0},L.retrocede=function(){return 1<r&&(r--,L.salto(r)),!0},L.compara=function(e,t){if(e.length!=t.length)return!1;for(var r=e.join(","),i=0;i<t.length;i++)-1<r.indexOf(t[i])&&(r=r.split(t[i]).join(""));return!(0<(r=r.replace(/,/g,"")).length)}},function(e){function t(e,t){(r(e,t)?n:i)(e,t)}var r,i,n;n="classList"in document.documentElement?(r=function(e,t){return e.classList.contains(t)},i=function(e,t){e.classList.add(t)},function(e,t){e.classList.remove(t)}):(r=function(e,t){return new RegExp("(^|\\s+)"+t+"(\\s+|$)").test(e.className)},i=function(e,t){r(e,t)||(e.className=e.className+" "+t)},function(e,t){e.className=e.className.replace(new RegExp("(^|\\s+)"+t+"(\\s+|$)")," ")});var a={hasClass:r,addClass:i,removeClass:n,toggleClass:t,has:r,add:i,remove:n,toggle:t};"function"==typeof define&&define.amd?define("classie/classie",a):e.classie=a}(window),function(){function e(){}function a(e,t){for(var r=e.length;r--;)if(e[r].listener===t)return r;return-1}function t(e){return function(){return this[e].apply(this,arguments)}}var r=e.prototype;r.getListeners=function(e){var t,r=this._getEvents();if("object"==typeof e){var i={};for(t in r)r.hasOwnProperty(t)&&e.test(t)&&(i[t]=r[t])}else i=r[e]||(r[e]=[]);return i},r.flattenListeners=function(e){var t,r=[];for(t=0;t<e.length;t+=1)r.push(e[t].listener);return r},r.getListenersAsObject=function(e){var t,r=this.getListeners(e);return r instanceof Array&&((t={})[e]=r),t||r},r.addListener=function(e,t){var r,i=this.getListenersAsObject(e),n="object"==typeof t;for(r in i)i.hasOwnProperty(r)&&-1===a(i[r],t)&&i[r].push(n?t:{listener:t,once:!1});return this},r.on=t("addListener"),r.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},r.once=t("addOnceListener"),r.defineEvent=function(e){return this.getListeners(e),this},r.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},r.removeListener=function(e,t){var r,i,n=this.getListenersAsObject(e);for(i in n)n.hasOwnProperty(i)&&(-1!==(r=a(n[i],t))&&n[i].splice(r,1));return this},r.off=t("removeListener"),r.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},r.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},r.manipulateListeners=function(e,t,r){var i,n,a=e?this.removeListener:this.addListener;if(e=e?this.removeListeners:this.addListeners,"object"!=typeof t||t instanceof RegExp)for(i=r.length;i--;)a.call(this,t,r[i]);else for(i in t)t.hasOwnProperty(i)&&(n=t[i])&&("function"==typeof n?a.call(this,i,n):e.call(this,i,n));return this},r.removeEvent=function(e){var t,r=typeof e,i=this._getEvents();if("string"==r)delete i[e];else if("object"==r)for(t in i)i.hasOwnProperty(t)&&e.test(t)&&delete i[t];else delete this._events;return this},r.emitEvent=function(e,t){var r,i,n=this.getListenersAsObject(e);for(i in n)if(n.hasOwnProperty(i))for(r=n[i].length;r--;){var a=n[i][r];a.listener.apply(this,t||[])!==this._getOnceReturnValue()&&!0!==a.once||this.removeListener(e,a.listener)}return this},r.trigger=t("emitEvent"),r.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},r.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},r._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},r._getEvents=function(){return this._events||(this._events={})},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return e}):"object"==typeof module&&module.exports?module.exports=e:this.EventEmitter=e}.call(this),function(i){var e=document.documentElement,t=function(){};e.addEventListener?t=function(e,t,r){e.addEventListener(t,r,!1)}:e.attachEvent&&(t=function(t,e,r){t[e+r]=r.handleEvent?function(){var e=i.event;e.target=e.target||e.srcElement,r.handleEvent.call(r,e)}:function(){var e=i.event;e.target=e.target||e.srcElement,r.call(t,e)},t.attachEvent("on"+e,t[e+r])});var r=function(){};e.removeEventListener?r=function(e,t,r){e.removeEventListener(t,r,!1)}:e.detachEvent&&(r=function(t,r,i){t.detachEvent("on"+r,t[r+i]);try{delete t[r+i]}catch(e){t[r+i]=void 0}}),e={bind:t,unbind:r},"function"==typeof define&&define.amd?define("eventie/eventie",e):i.eventie=e}(this),function(e){function t(e){if(e){if("string"==typeof a[e])return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var t,r=0,i=n.length;r<i;r++)if("string"==typeof a[t=n[r]+e])return t}}var n=["Webkit","Moz","ms","Ms","O"],a=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return t}):e.getStyleProperty=t}(window),function(e){function m(e){var t=parseFloat(e);return-1===e.indexOf("%")&&!isNaN(t)&&t}function t(e){var p,d=e("boxSizing");return function(){if(d){var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style[d]="border-box";var t=document.body||document.documentElement;t.appendChild(e);var r=u(e);p=200===m(r.width),t.removeChild(e)}}(),function(e){if("string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var t=u(e);if("none"===t.display){var r={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0};for(t=0,e=f.length;t<e;t++)r[f[t]]=0;return r}(r={}).width=e.offsetWidth,r.height=e.offsetHeight,e=r.isBorderBox=!(!d||!t[d]||"border-box"!==t[d]);for(var i=0,n=f.length;i<n;i++){var a=f[i],o=parseFloat(t[a]);r[a]=isNaN(o)?0:o}i=r.paddingLeft+r.paddingRight,n=r.paddingTop+r.paddingBottom,a=r.marginLeft+r.marginRight,o=r.marginTop+r.marginBottom;var s=r.borderLeftWidth+r.borderRightWidth,l=r.borderTopWidth+r.borderBottomWidth;e=e&&p;var c=m(t.width);return!1!==c&&(r.width=c+(e?0:i+s)),!1!==(t=m(t.height))&&(r.height=t+(e?0:n+l)),r.innerWidth=r.width-(i+s),r.innerHeight=r.height-(n+l),r.outerWidth=r.width+a,r.outerHeight=r.height+o,r}}}var r=document.defaultView,u=r&&r.getComputedStyle?function(e){return r.getComputedStyle(e,null)}:function(e){return e.currentStyle},f="paddingLeft paddingRight paddingTop paddingBottom marginLeft marginRight marginTop marginBottom borderLeftWidth borderRightWidth borderTopWidth borderBottomWidth".split(" ");"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],t):e.getSize=t(e.getStyleProperty)}(window),function(u){function f(e,t){for(var r in t)e[r]=t[r];return e}function h(){}function e(r,e,i,t,n){function a(e,t){this.element="string"==typeof e?v.querySelector(e):e,this.options=f({},this.options),f(this.options,t),this._create()}function o(){return!1}function s(e,t){e.x=void 0!==t.pageX?t.pageX:t.clientX,e.y=void 0!==t.pageY?t.pageY:t.clientY}function l(e,t,r){return r=r||"round",t?Math[r](e/t)*t:e}var c=t("transform");t=!!t("perspective"),f(a.prototype,e.prototype),a.prototype.options={},a.prototype._create=function(){this.position={},this._getPosition(),this.startPoint={x:0,y:0},this.dragPoint={x:0,y:0},this.startPosition=f({},this.position);var e=g(this.element);"relative"!==e.position&&"absolute"!==e.position&&(this.element.style.position="relative"),this.enable(),this.setHandles()},a.prototype.setHandles=function(){this.handles=this.options.handle?this.element.querySelectorAll(this.options.handle):[this.element],this.bindHandles(!0)},a.prototype.bindHandles=function(e){var t=u.navigator.pointerEnabled?this.bindPointer:u.navigator.msPointerEnabled?this.bindMSPointer:this.bindMouseTouch;e=void 0===e||!!e;for(var r=0,i=this.handles.length;r<i;r++)t.call(this,this.handles[r],e)},a.prototype.bindPointer=function(e,t){i[t?"bind":"unbind"](e,"pointerdown",this),e.style.touchAction=t?"none":""},a.prototype.bindMSPointer=function(e,t){i[t?"bind":"unbind"](e,"MSPointerDown",this),e.style.msTouchAction=t?"none":""},a.prototype.bindMouseTouch=function(e,t){var r=t?"bind":"unbind";i[r](e,"mousedown",this),i[r](e,"touchstart",this),t&&p(e)};var p="attachEvent"in v.documentElement?function(e){"IMG"===e.nodeName&&(e.ondragstart=o);for(var t=0,r=(e=e.querySelectorAll("img")).length;t<r;t++)e[t].ondragstart=o}:h;a.prototype._getPosition=function(){var e=g(this.element),t=parseInt(e.left,10),r=parseInt(e.top,10);this.position.x=isNaN(t)?0:t,this.position.y=isNaN(r)?0:r,this._addTransformPosition(e)},a.prototype._addTransformPosition=function(e){if(c){var t=e[c];if(0===t.indexOf("matrix")){e=t.split(",");var r=0===t.indexOf("matrix3d")?12:4;t=parseInt(e[r],10),e=parseInt(e[1+r],10),this.position.x+=t,this.position.y+=e}}},a.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},a.prototype.getTouch=function(e){for(var t=0,r=e.length;t<r;t++){var i=e[t];if(i.identifier===this.pointerIdentifier)return i}},a.prototype.onmousedown=function(e){var t=e.button;t&&0!==t&&1!==t||this.dragStart(e,e)},a.prototype.ontouchstart=function(e){this.isDragging||this.dragStart(e,e.changedTouches[0])},a.prototype.onMSPointerDown=a.prototype.onpointerdown=function(e){this.isDragging||this.dragStart(e,e)};var d={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"],MSPointerDown:["MSPointerMove","MSPointerUp","MSPointerCancel"]};a.prototype.dragStart=function(e,t){this.isEnabled&&(e.preventDefault?e.preventDefault():e.returnValue=!1,this.pointerIdentifier=void 0!==t.pointerId?t.pointerId:t.identifier,this._getPosition(),this.measureContainment(),s(this.startPoint,t),this.startPosition.x=this.position.x,this.startPosition.y=this.position.y,this.setLeftTop(),this.dragPoint.x=0,this.dragPoint.y=0,this._bindEvents({events:d[e.type],node:e.preventDefault?u:v}),r.add(this.element,"is-dragging"),this.isDragging=!0,this.emitEvent("dragStart",[this,e,t]),this.animate())},a.prototype._bindEvents=function(e){for(var t=0,r=e.events.length;t<r;t++)i.bind(e.node,e.events[t],this);this._boundEvents=e},a.prototype._unbindEvents=function(){var e=this._boundEvents;if(e&&e.events){for(var t=0,r=e.events.length;t<r;t++)i.unbind(e.node,e.events[t],this);delete this._boundEvents}},a.prototype.measureContainment=function(){var e=this.options.containment;if(e){this.size=n(this.element);var t=this.element.getBoundingClientRect();e=x(e)?e:"string"==typeof e?v.querySelector(e):this.element.parentNode,this.containerSize=n(e),e=e.getBoundingClientRect(),this.relativeStartPosition={x:t.left-e.left,y:t.top-e.top}}},a.prototype.onmousemove=function(e){this.dragMove(e,e)},a.prototype.onMSPointerMove=a.prototype.onpointermove=function(e){e.pointerId===this.pointerIdentifier&&this.dragMove(e,e)},a.prototype.ontouchmove=function(e){var t=this.getTouch(e.changedTouches);t&&this.dragMove(e,t)},a.prototype.dragMove=function(e,t){s(this.dragPoint,t);var r=this.dragPoint.x-this.startPoint.x,i=this.dragPoint.y-this.startPoint.y,n=this.options.grid,a=n&&n[0];n=n&&n[1],r=l(r,a),i=l(i,n),r=this.containDrag("x",r,a),i=this.containDrag("y",i,n),r="y"===this.options.axis?0:r,i="x"===this.options.axis?0:i,this.position.x=this.startPosition.x+r,this.position.y=this.startPosition.y+i,this.dragPoint.x=r,this.dragPoint.y=i,this.emitEvent("dragMove",[this,e,t])},a.prototype.containDrag=function(e,t,r){if(!this.options.containment)return t;var i="x"===e?"width":"height",n=this.relativeStartPosition[e];return e=l(-n,r,"ceil"),i=l(i=this.containerSize[i]-n-this.size[i],r,"floor"),Math.min(i,Math.max(e,t))},a.prototype.onmouseup=function(e){this.dragEnd(e,e)},a.prototype.onMSPointerUp=a.prototype.onpointerup=function(e){e.pointerId===this.pointerIdentifier&&this.dragEnd(e,e)},a.prototype.ontouchend=function(e){var t=this.getTouch(e.changedTouches);t&&this.dragEnd(e,t)},a.prototype.dragEnd=function(e,t){this.isDragging=!1,delete this.pointerIdentifier,c&&(this.element.style[c]="",this.setLeftTop()),this._unbindEvents(),r.remove(this.element,"is-dragging"),this.emitEvent("dragEnd",[this,e,t])},a.prototype.onMSPointerCancel=a.prototype.onpointercancel=function(e){e.pointerId===this.pointerIdentifier&&this.dragEnd(e,e)},a.prototype.ontouchcancel=function(e){var t=this.getTouch(e.changedTouches);this.dragEnd(e,t)},a.prototype.animate=function(){if(this.isDragging){this.positionDrag();var e=this;b(function(){e.animate()})}};var m=t?function(e,t){return"translate3d( "+e+"px, "+t+"px, 0)"}:function(e,t){return"translate( "+e+"px, "+t+"px)"};return a.prototype.setLeftTop=function(){this.element.style.left=this.position.x+"px",this.element.style.top=this.position.y+"px"},a.prototype.positionDrag=c?function(){this.element.style[c]=m(this.dragPoint.x,this.dragPoint.y)}:a.prototype.setLeftTop,a.prototype.enable=function(){this.isEnabled=!0},a.prototype.disable=function(){this.isEnabled=!1,this.isDragging&&this.dragEnd()},a.prototype.destroy=function(){this.disable(),c&&(this.element.style[c]=""),this.element.style.left="",this.element.style.top="",this.element.style.position="",this.bindHandles(!1)},a}for(var t,v=u.document,r=v.defaultView,g=r&&r.getComputedStyle?function(e){return r.getComputedStyle(e,null)}:function(e){return e.currentStyle},x="object"==typeof HTMLElement?function(e){return e instanceof HTMLElement}:function(e){return e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName},n=0,i=["webkit","moz","ms","o"],b=u.requestAnimationFrame,a=u.cancelAnimationFrame,o=0;o<i.length&&(!b||!a);o++)t=i[o],b=b||u[t+"RequestAnimationFrame"],a=a||u[t+"CancelAnimationFrame"]||u[t+"CancelRequestAnimationFrame"];b&&a||(b=function(e){var t=(new Date).getTime(),r=Math.max(0,16-(t-n)),i=u.setTimeout(function(){e(t+r)},r);return n=t+r,i},a=function(e){u.clearTimeout(e)}),"function"==typeof define&&define.amd?define(["classie/classie","eventEmitter/EventEmitter","eventie/eventie","get-style-property/get-style-property","get-size/get-size"],e):"object"==typeof exports?module.exports=e(require("desandro-classie"),require("wolfy87-eventemitter"),require("eventie"),require("desandro-get-style-property"),require("get-size")):u.Draggabilly=e(u.classie,u.EventEmitter,u.eventie,u.getStyleProperty,u.getSize)}(window),"object"!=typeof JSON&&(JSON={}),function(){function b(e){return e<10?"0"+e:e}function D(e){return p.lastIndex=0,p.test(e)?'"'+e.replace(p,function(e){var t=d[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function B(e,t){var r,i=g,n=t[e];switch(n&&"object"==typeof n&&"function"==typeof n.toJSON&&(n=n.toJSON(e)),"function"==typeof u&&(n=u.call(t,e,n)),typeof n){case"string":return D(n);case"number":return isFinite(n)?String(n):"null";case"boolean":case"null":return String(n);case"object":if(!n)return"null";g+=w;var a=[];if("[object Array]"===Object.prototype.toString.apply(n)){var o=n.length;for(r=0;r<o;r+=1)a[r]=B(r,n)||"null";var s=0===a.length?"[]":g?"[\n"+g+a.join(",\n"+g)+"\n"+i+"]":"["+a.join(",")+"]";return g=i,s}if(u&&"object"==typeof u){for(o=u.length,r=0;r<o;r+=1)if("string"==typeof u[r]){var l=u[r];(s=B(l,n))&&a.push(D(l)+(g?": ":":")+s)}}else for(l in n)Object.prototype.hasOwnProperty.call(n,l)&&(s=B(l,n))&&a.push(D(l)+(g?": ":":")+s);return s=0===a.length?"{}":g?"{\n"+g+a.join(",\n"+g)+"\n"+i+"}":"{"+a.join(",")+"}",g=i,s}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(e){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+b(this.getUTCMonth()+1)+"-"+b(this.getUTCDate())+"T"+b(this.getUTCHours())+":"+b(this.getUTCMinutes())+":"+b(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(e){return this.valueOf()});var z=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,p=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,g,w,d={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},u;"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,r){var i;if(w=g="","number"==typeof r)for(i=0;i<r;i+=1)w+=" ";else"string"==typeof r&&(w=r);if((u=t)&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw Error("JSON.stringify");return B("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(b,d){function f(e,t){var r,i=e[t];if(i&&"object"==typeof i)for(r in i)if(Object.prototype.hasOwnProperty.call(i,r)){var n=f(i,r);void 0!==n?i[r]=n:delete i[r]}return d.call(e,t,i)}if(b=String(b),z.lastIndex=0,z.test(b)&&(b=b.replace(z,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(b.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){var e=eval("("+b+")");return"function"==typeof d?f({"":e},""):e}throw new SyntaxError("JSON.parse")})}();